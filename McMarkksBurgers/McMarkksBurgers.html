<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<meta name="theme-color" content="#8B4513" />
<title>McMarkk's Burgers - Fast Food Slots</title>
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  
  html, body {
    width: 100%;
    height: 100%;
    overflow: hidden;
  }
  
  body {
    background: 
      radial-gradient(circle at 30% 40%, rgba(218, 41, 28, 0.15) 0%, transparent 60%),
      radial-gradient(circle at 70% 60%, rgba(255, 193, 7, 0.12) 0%, transparent 55%),
      linear-gradient(145deg, #DA291C 0%, #FFC300 25%, #DA291C 50%, #FFA500 75%, #DA291C 100%);
    color: #fff;
    font-family: 'Comic Sans MS', 'Arial', cursive, sans-serif;
    user-select: none;
    overflow: hidden;
    position: relative;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
  }

  /* Burger pattern background */
  body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
      repeating-linear-gradient(0deg, transparent, transparent 3px, rgba(255,255,255,0.03) 3px, rgba(255,255,255,0.03) 6px),
      repeating-linear-gradient(90deg, transparent, transparent 3px, rgba(255,255,255,0.03) 3px, rgba(255,255,255,0.03) 6px);
    pointer-events: none;
    z-index: 0;
  }

  /* Golden arches border */
  body::after {
    content: '';
    position: fixed;
    top: 20px;
    left: 20px;
    width: calc(100% - 40px);
    height: calc(100% - 40px);
    border: 3px solid rgba(255, 193, 7, 0.5);
    border-radius: 8px;
    pointer-events: none;
    z-index: 0;
    box-shadow: 
      inset 0 0 30px rgba(218, 41, 28, 0.3),
      0 0 20px rgba(255, 193, 7, 0.2);
  }

  .game-container {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    position: relative;
    z-index: 1;
  }
  
  .fold-top {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 20px;
    gap: 16px;
    background: linear-gradient(180deg, rgba(218, 41, 28, 0.3) 0%, rgba(139, 69, 19, 0.2) 100%);
    border-bottom: 3px solid rgba(255, 193, 7, 0.6);
    position: relative;
    overflow: hidden;
  }

  /* Burger wheel decoration */
  .burger-wheel {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 600px;
    height: 600px;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(255, 193, 7, 0.1) 0%, transparent 70%);
    border: 8px solid rgba(218, 41, 28, 0.15);
    pointer-events: none;
    z-index: 0;
  }

  .burger-wheel::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 80%;
    height: 80%;
    border-radius: 50%;
    border: 4px solid rgba(255, 193, 7, 0.12);
  }

  .burger-wheel::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 60%;
    height: 60%;
    border-radius: 50%;
    border: 3px solid rgba(218, 41, 28, 0.1);
  }

  h1 {
    text-align: center;
    color: #fff;
    font-size: clamp(1.4rem, 5vw, 2.2rem);
    font-weight: 900;
    letter-spacing: 3px;
    text-transform: uppercase;
    text-shadow: 
      0 0 20px rgba(255, 193, 7, 0.6),
      3px 3px 8px rgba(0,0,0,0.9),
      0 0 40px rgba(218, 41, 28, 0.4);
    position: relative;
    z-index: 1;
    border: 3px solid rgba(255, 193, 7, 0.7);
    padding: 14px 28px;
    background: linear-gradient(135deg, rgba(218, 41, 28, 0.9) 0%, rgba(139, 69, 19, 0.95) 100%);
    border-radius: 8px;
    box-shadow: 
      0 6px 20px rgba(0,0,0,0.8),
      inset 0 2px 0 rgba(255,255,255,0.2);
  }

  h1::before {
    content: 'üçî';
    margin-right: 12px;
    font-size: 2rem;
    animation: flip 3s ease-in-out infinite;
  }

  h1::after {
    content: 'üçü';
    margin-left: 12px;
    font-size: 2rem;
    animation: flip 3s ease-in-out infinite 1.5s;
  }

  @keyframes flip {
    0%, 100% { transform: rotateY(0deg); }
    50% { transform: rotateY(180deg); }
  }

  .game-stats {
    display: flex;
    gap: 16px;
    flex-wrap: wrap;
    justify-content: center;
    width: 100%;
    max-width: 600px;
    z-index: 1;
  }
  
  #walletDisplay, #comboDisplay {
    background: linear-gradient(135deg, rgba(218, 41, 28, 0.9) 0%, rgba(139, 69, 19, 0.95) 100%);
    border: 3px solid rgba(255, 193, 7, 0.8);
    border-radius: 6px;
    padding: 16px 24px;
    box-shadow: 
      0 6px 20px rgba(0,0,0,0.8),
      inset 0 2px 0 rgba(255,255,255,0.2),
      inset 0 -2px 0 rgba(0,0,0,0.3);
    color: #fff;
    font-size: 1.3rem;
    font-weight: 900;
    letter-spacing: 2px;
    text-align: center;
    flex: 1;
    min-width: 180px;
    position: relative;
    text-transform: uppercase;
    text-shadow: 0 2px 6px rgba(0,0,0,0.9);
  }

  #walletDisplay::before {
    content: 'üí∞';
    margin-right: 8px;
  }

  #comboDisplay {
    display: none;
    border-color: rgba(255, 215, 0, 1);
    background: linear-gradient(135deg, rgba(255, 193, 7, 0.95) 0%, rgba(255, 215, 0, 1) 100%);
    color: #000;
    animation: comboGlow 1.5s ease-in-out infinite;
  }

  #comboDisplay::before {
    content: 'üéâ';
    margin-right: 8px;
  }

  @keyframes comboGlow {
    0%, 100% { 
      box-shadow: 
        0 6px 20px rgba(255,215,0,0.6),
        inset 0 2px 0 rgba(255,255,255,0.4);
    }
    50% { 
      box-shadow: 
        0 8px 35px rgba(255,215,0,1),
        inset 0 2px 0 rgba(255,255,255,0.6);
    }
  }
  
  #slotContainer {
    position: relative;
    width: 100%;
    max-width: 480px;
    background: linear-gradient(135deg, rgba(218, 41, 28, 0.9) 0%, rgba(139, 69, 19, 0.95) 100%);
    border: 4px solid rgba(255, 193, 7, 0.9);
    border-radius: 8px;
    padding: 20px;
    box-shadow: 
      0 10px 40px rgba(0,0,0,0.9),
      inset 0 3px 0 rgba(255,255,255,0.15),
      inset 0 -3px 0 rgba(0,0,0,0.5);
    z-index: 1;
  }

  /* Corner burger/fries decorations */
  #slotContainer::before,
  #slotContainer::after {
    content: 'üçî';
    position: absolute;
    color: rgba(255, 255, 255, 0.7);
    font-size: 1.5rem;
    text-shadow: 0 2px 8px rgba(0,0,0,0.8);
  }

  #slotContainer::before {
    top: 8px;
    left: 8px;
    content: 'üçî';
  }

  #slotContainer::after {
    top: 8px;
    right: 8px;
    content: 'üçü';
  }
  
  #slotGrid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 10px;
    position: relative;
    z-index: 1;
  }
  
  .slotCell {
    background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,248,220,0.95) 100%);
    border: 3px solid rgba(218, 41, 28, 0.7);
    border-radius: 8px;
    font-size: clamp(3rem, 8vw, 4rem);
    text-align: center;
    box-shadow: 
      0 6px 20px rgba(0,0,0,0.7),
      inset 0 2px 4px rgba(255,255,255,0.5),
      inset 0 -2px 4px rgba(0,0,0,0.2);
    aspect-ratio: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    transition: all 0.3s ease;
  }

  .slotCell::before {
    content: '';
    position: absolute;
    inset: 3px;
    border: 2px solid rgba(255, 193, 7, 0.4);
    border-radius: 5px;
    pointer-events: none;
  }

  .slotCell.spinning {
    animation: burgerFlip 0.1s linear infinite;
    border-color: rgba(255, 193, 7, 1);
    box-shadow: 0 0 25px rgba(255, 193, 7, 0.8);
  }

  @keyframes burgerFlip {
    0% { transform: rotateX(0deg); filter: brightness(1); }
    50% { filter: brightness(1.3); }
    100% { transform: rotateX(360deg); filter: brightness(1); }
  }
  
  .winning {
    background: linear-gradient(135deg, rgba(255, 193, 7, 1) 0%, rgba(255, 215, 0, 1) 100%);
    border-color: rgba(218, 41, 28, 1);
    box-shadow: 
      0 0 35px rgba(255, 193, 7, 1),
      0 6px 20px rgba(0,0,0,0.9),
      inset 0 2px 0 rgba(255,255,255,0.6);
    animation: burgerWin 0.6s ease-in-out infinite alternate;
  }

  @keyframes burgerWin {
    0% { 
      transform: scale(1) rotate(-2deg);
      filter: brightness(1.2) saturate(1.5);
    }
    100% { 
      transform: scale(1.1) rotate(2deg);
      filter: brightness(1.5) saturate(2);
    }
  }

  #message {
    text-align: center;
    font-size: 1.1rem;
    min-height: 2.5em;
    color: #fff;
    background: linear-gradient(135deg, rgba(218, 41, 28, 0.9) 0%, rgba(139, 69, 19, 0.95) 100%);
    border: 3px solid rgba(255, 193, 7, 0.7);
    border-radius: 6px;
    padding: 16px 24px;
    box-shadow: 
      0 6px 20px rgba(0,0,0,0.8),
      inset 0 2px 0 rgba(255,255,255,0.15);
    font-weight: 900;
    letter-spacing: 1px;
    max-width: 600px;
    text-shadow: 0 2px 6px rgba(0,0,0,0.9);
    text-transform: uppercase;
    z-index: 1;
  }
  
  .fold-bottom {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 16px;
    padding: 20px;
    background: linear-gradient(180deg, rgba(139, 69, 19, 0.2) 0%, rgba(218, 41, 28, 0.3) 100%);
    position: relative;
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }

  #betSelector {
    background: linear-gradient(135deg, rgba(218, 41, 28, 0.9) 0%, rgba(139, 69, 19, 0.95) 100%);
    border: 3px solid rgba(255, 193, 7, 0.8);
    border-radius: 8px;
    padding: 20px;
    box-shadow: 
      0 6px 25px rgba(0,0,0,0.8),
      inset 0 2px 0 rgba(255,255,255,0.12);
    display: grid;
    grid-template-columns: 1fr;
    gap: 10px;
    width: 100%;
    max-width: 600px;
  }
  
  #betSelector button {
    background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,248,220,0.95) 100%);
    border: 3px solid rgba(218, 41, 28, 0.7);
    color: #DA291C;
    padding: 14px 18px;
    font-weight: 900;
    font-size: 1.1rem;
    cursor: pointer;
    border-radius: 6px;
    letter-spacing: 1px;
    box-shadow: 
      0 4px 12px rgba(0,0,0,0.6),
      inset 0 2px 0 rgba(255,255,255,0.5);
    min-height: 56px;
    transition: all 0.3s ease;
    text-shadow: 0 1px 2px rgba(0,0,0,0.2);
  }

  #betSelector button:hover {
    transform: translateY(-2px);
    border-color: rgba(255, 193, 7, 1);
    box-shadow: 
      0 6px 16px rgba(0,0,0,0.8),
      inset 0 2px 0 rgba(255,255,255,0.6);
  }

  #betSelector button.selected {
    background: linear-gradient(135deg, rgba(255, 193, 7, 1) 0%, rgba(255, 215, 0, 1) 100%);
    color: #000;
    border-color: rgba(218, 41, 28, 1);
    box-shadow: 
      0 6px 20px rgba(255, 193, 7, 0.6),
      inset 0 2px 0 rgba(255,255,255,0.7),
      0 0 20px rgba(255, 193, 7, 0.5);
    transform: translateY(-2px) scale(1.03);
  }

  #autoSpinBtn {
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
  }

  #autoSpinBtn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
    transition: left 0.5s ease;
  }

  #autoSpinBtn:hover::before {
    left: 100%;
  }

  .action-buttons {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 10px;
    width: 100%;
    max-width: 600px;
  }

  .action-buttons button {
    background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,248,220,0.95) 100%);
    border: 3px solid rgba(218, 41, 28, 0.7);
    color: #DA291C;
    padding: 12px;
    font-weight: 900;
    font-size: 0.9rem;
    cursor: pointer;
    border-radius: 6px;
    letter-spacing: 1px;
    box-shadow: 
      0 4px 12px rgba(0,0,0,0.6),
      inset 0 2px 0 rgba(255,255,255,0.5);
    min-height: 50px;
    transition: all 0.3s ease;
    text-shadow: 0 1px 2px rgba(0,0,0,0.2);
  }

  .action-buttons button:active {
    transform: scale(0.95);
  }

  #spinBtn {
    background: linear-gradient(135deg, rgba(255, 193, 7, 1) 0%, rgba(255, 215, 0, 1) 100%);
    color: #000;
    font-weight: 900;
    font-size: 1.6rem;
    padding: 20px 50px;
    border: 4px solid rgba(218, 41, 28, 0.9);
    border-radius: 8px;
    cursor: pointer;
    box-shadow: 
      0 8px 30px rgba(255, 193, 7, 0.6),
      inset 0 3px 0 rgba(255,255,255,0.6),
      inset 0 -3px 0 rgba(0,0,0,0.2);
    letter-spacing: 3px;
    min-width: 280px;
    text-shadow: 0 2px 4px rgba(0,0,0,0.3);
    text-transform: uppercase;
    position: relative;
    transition: all 0.3s ease;
    grid-column: 1 / -1;
    animation: orderReady 2s ease-in-out infinite;
  }

  @keyframes orderReady {
    0%, 100% { 
      box-shadow: 
        0 8px 30px rgba(255, 193, 7, 0.6),
        inset 0 3px 0 rgba(255,255,255,0.6);
    }
    50% { 
      box-shadow: 
        0 10px 45px rgba(255, 193, 7, 1),
        inset 0 3px 0 rgba(255,255,255,0.7);
    }
  }

  #spinBtn::before {
    content: 'üçî';
    margin-right: 12px;
    font-size: 1.8rem;
  }

  #spinBtn::after {
    content: 'üçî';
    margin-left: 12px;
    font-size: 1.8rem;
  }

  #spinBtn:hover {
    transform: translateY(-3px);
    box-shadow: 
      0 12px 50px rgba(255, 193, 7, 0.9),
      inset 0 3px 0 rgba(255,255,255,0.7);
    border-color: rgba(218, 41, 28, 1);
  }

  #spinBtn:active {
    transform: translateY(-1px);
  }
  
  #spinBtn:disabled {
    background: linear-gradient(135deg, rgba(128,128,128,0.7) 0%, rgba(100,100,100,0.8) 100%);
    color: rgba(255, 255, 255, 0.5);
    cursor: not-allowed;
    border-color: rgba(80, 80, 80, 0.5);
    box-shadow: 
      0 4px 15px rgba(0,0,0,0.5),
      inset 0 1px 0 rgba(255,255,255,0.1);
    transform: none;
    animation: none;
  }

  /* Modal Styles */
  #paytableModal {
    position: fixed;
    inset: 0;
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    padding: 16px;
  }

  #paytableModal.open {
    display: flex;
  }

  .modal-backdrop {
    position: absolute;
    inset: 0;
    background: rgba(0,0,0,0.9);
    backdrop-filter: blur(8px);
  }

  .modal-dialog {
    position: relative;
    z-index: 1;
    width: 100%;
    max-width: 500px;
    max-height: 80vh;
    background: linear-gradient(135deg, #FFC300 0%, #FFD60A 100%);
    border: 4px solid #DA291C;
    border-radius: 12px;
    padding: 30px 20px 20px;
    box-shadow: 0 10px 50px rgba(0,0,0,0.9);
    overflow: auto;
  }

  #closePayTableBtn {
    position: absolute;
    top: 8px;
    right: 8px;
    background: #DA291C;
    border: 2px solid #fff;
    color: #fff;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    cursor: pointer;
    font-size: 1.2rem;
    font-weight: bold;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(0,0,0,0.5);
  }

  #closePayTableBtn:hover {
    background: #8B0000;
    transform: rotate(90deg);
  }

  #payTableContainer {
    margin-top: 0;
  }

  .receipt-header {
    text-align: center;
    margin-bottom: 16px;
    border-bottom: 3px dashed #DA291C;
    padding-bottom: 12px;
  }

  .receipt-header h3 {
    color: #DA291C;
    font-size: 1.4rem;
    letter-spacing: 2px;
    margin-bottom: 8px;
    font-weight: 900;
    text-shadow: 0 2px 4px rgba(0,0,0,0.3);
  }

  .receipt-header p {
    color: #333;
    font-size: 0.75rem;
    margin: 4px 0;
    letter-spacing: 1px;
    font-weight: 600;
  }

  #payTableContainer table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.85rem;
    background: rgba(255,255,255,0.95);
    border-radius: 8px;
    overflow: hidden;
  }

  #payTableContainer th,
  #payTableContainer td {
    border: none;
    border-bottom: 2px dotted #DA291C;
    padding: 12px 10px;
    text-align: left;
    color: #333;
  }

  #payTableContainer th {
    background: #DA291C;
    color: #fff;
    font-weight: 900;
    text-transform: uppercase;
    letter-spacing: 1px;
    font-size: 0.9rem;
  }

  #payTableContainer tbody tr:hover {
    background: rgba(255, 193, 7, 0.3);
  }

  .receipt-footer {
    margin-top: 16px;
    padding-top: 12px;
    border-top: 3px dashed #DA291C;
    text-align: center;
  }

  .receipt-footer p {
    color: #333;
    font-size: 0.7rem;
    margin: 6px 0;
    line-height: 1.5;
    font-weight: 600;
  }

  .receipt-footer .special {
    font-weight: 900;
    font-size: 0.85rem;
    color: #DA291C;
    margin-top: 10px;
  }

  body.modal-open {
    overflow: hidden;
  }

  /* Cash Register Display */
  #cashRegister {
    background: linear-gradient(135deg, rgba(0, 0, 0, 0.95) 0%, rgba(20, 20, 20, 0.98) 100%);
    border: 4px solid rgba(139, 69, 19, 0.9);
    border-radius: 8px;
    padding: 16px 32px;
    box-shadow: 
      0 8px 30px rgba(0,0,0,0.9),
      inset 0 0 20px rgba(0, 255, 0, 0.1),
      inset 0 3px 0 rgba(80, 80, 80, 0.5);
    width: 100%;
    max-width: 600px;
    position: relative;
    overflow: hidden;
  }

  #cashRegister::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
      repeating-linear-gradient(
        0deg,
        transparent,
        transparent 2px,
        rgba(0, 255, 0, 0.03) 2px,
        rgba(0, 255, 0, 0.03) 4px
      );
    pointer-events: none;
  }

  #cashRegister .register-label {
    color: rgba(255, 193, 7, 0.9);
    font-size: 0.75rem;
    font-weight: 700;
    letter-spacing: 2px;
    text-transform: uppercase;
    margin-bottom: 8px;
    text-align: center;
    font-family: 'Courier New', monospace;
    text-shadow: 0 0 8px rgba(255, 193, 7, 0.5);
  }

  #cashRegister .cost-display {
    background: rgba(0, 20, 0, 0.95);
    border: 2px solid rgba(0, 100, 0, 0.6);
    border-radius: 4px;
    padding: 12px 24px;
    text-align: right;
    box-shadow: 
      inset 0 0 15px rgba(0, 255, 0, 0.2),
      inset 0 2px 4px rgba(0, 0, 0, 0.8);
  }

  #cashRegister .cost-amount {
    color: #00ff00;
    font-size: 2.5rem;
    font-weight: 900;
    font-family: 'Courier New', monospace;
    letter-spacing: 4px;
    text-shadow: 
      0 0 10px rgba(0, 255, 0, 0.8),
      0 0 20px rgba(0, 255, 0, 0.4),
      0 2px 4px rgba(0, 0, 0, 0.9);
    animation: cashGlow 2s ease-in-out infinite;
  }

  @keyframes cashGlow {
    0%, 100% { 
      text-shadow: 
        0 0 10px rgba(0, 255, 0, 0.8),
        0 0 20px rgba(0, 255, 0, 0.4);
    }
    50% { 
      text-shadow: 
        0 0 15px rgba(0, 255, 0, 1),
        0 0 30px rgba(0, 255, 0, 0.6);
    }
  }

  /* Mobile/Razr optimizations */
  @media (max-width: 480px) {
    .fold-top, .fold-bottom {
      padding: 12px;
    }
    
    h1 {
      font-size: 1.1rem;
      padding: 10px 16px;
      letter-spacing: 2px;
    }

    .game-stats {
      gap: 10px;
      width: 100%;
    }
    
    #walletDisplay, #comboDisplay {
      min-width: 0;
      padding: 12px 16px;
      font-size: 1rem;
      letter-spacing: 1px;
    }
    
    #slotContainer {
      padding: 16px;
      max-width: 100%;
    }
    
    #slotGrid {
      gap: 8px;
    }
    
    .slotCell {
      font-size: 2.5rem;
    }
    
    #betSelector {
      gap: 8px;
      padding: 14px;
      max-width: 100%;
    }
    
    #betSelector button {
      min-height: 48px;
      font-size: 0.95rem;
      padding: 10px 12px;
    }
    
    .action-buttons {
      grid-template-columns: 1fr 1fr;
      gap: 8px;
    }

    .action-buttons button {
      font-size: 0.8rem;
      padding: 10px;
      min-height: 44px;
    }
    
    #spinBtn {
      padding: 16px 36px;
      min-width: 90%;
      font-size: 1.3rem;
      letter-spacing: 2px;
      grid-column: 1 / -1;
    }

    #cashRegister .cost-amount {
      font-size: 2rem;
      letter-spacing: 3px;
    }

    #cashRegister {
      padding: 12px 24px;
    }
    
    #message {
      font-size: 0.9rem;
      padding: 12px 16px;
      width: 100%;
      letter-spacing: 0.5px;
    }

    .burger-wheel {
      width: 400px;
      height: 400px;
    }
  }

  @media (max-width: 360px) {
    .burger-wheel {
      width: 320px;
      height: 320px;
    }
  }
</style>
</head>
<body>

<div class="game-container">
  <div class="fold-top">
    <div class="burger-wheel"></div>
    <h1>McMarkk's Burgers</h1>
    
    <div class="game-stats">
      <div id="walletDisplay">Balance: $0</div>
      <div id="comboDisplay">Combo Meal!</div>
    </div>
    
    <div id="slotContainer">
      <div id="slotGrid">
        <div class="slotCell" id="reel1">üçî</div>
        <div class="slotCell" id="reel2">üçü</div>
        <div class="slotCell" id="reel3">ü•§</div>
      </div>
    </div>
    
    <div id="message">Order Up! Press Spin!</div>
  </div>

  <div class="fold-bottom">
    <div id="betSelector">
      <button id="autoSpinBtn" class="selected">üîÑ Auto Spin</button>
    </div>

    <div id="cashRegister">
      <div class="register-label">üíµ Cost Per Spin üíµ</div>
      <div class="cost-display">
        <div class="cost-amount">$15.00</div>
      </div>
    </div>

    <div class="action-buttons">
      <button id="spinBtn">üé∞ Order!</button>
      <button id="openPayTableBtn">üìã Menu</button>
      <button id="exitBtn">üö™ Exit</button>
    </div>
  </div>
</div>

<!-- Pay Table Modal -->
<div id="paytableModal">
  <div class="modal-backdrop" data-close="true"></div>
  <div class="modal-dialog">
    <button id="closePayTableBtn">‚úï</button>
    <div id="payTableContainer">
      <div class="receipt-header">
        <h3>üçî McMarkk's Menu üçü</h3>
        <p>OFFICIAL COMBO PAYOUTS</p>
        <p>‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê</p>
        <p style="font-size: 0.65rem;">AUTO SPIN - CONTINUOUS PLAY MODE</p>
      </div>
      
      <table>
        <thead>
          <tr>
            <th>COMBO</th>
            <th>PAYOUT</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>üçî üçü ü•§</td>
            <td style="color: #28a745; font-weight: 900;">+$500 - Combo Meal Special!</td>
          </tr>
          <tr>
            <td>üçî üçî üçî</td>
            <td style="color: #28a745; font-weight: 900;">+$100 - Triple Burger!</td>
          </tr>
          <tr>
            <td>üçî üçî</td>
            <td style="color: #28a745; font-weight: 700;">+$50 - Double Burger</td>
          </tr>
          <tr>
            <td>üçü üçü üçü</td>
            <td style="color: #28a745; font-weight: 900;">+$50 - Fries Overload!</td>
          </tr>
          <tr>
            <td>üçü üçü</td>
            <td style="color: #28a745; font-weight: 700;">+$25 - Extra Fries</td>
          </tr>
          <tr>
            <td>ü•§ ü•§ ü•§</td>
            <td style="color: #17a2b8; font-weight: 900;">+$15 - Drink Refills!</td>
          </tr>
          <tr>
            <td>ü•§ ü•§</td>
            <td style="color: #17a2b8; font-weight: 700;">+$5 - Small Refill</td>
          </tr>
          <tr>
            <td>ü•ó ü•ó ü•ó</td>
            <td style="color: #dc3545; font-weight: 900;">-$100 - Health Tax</td>
          </tr>
          <tr>
            <td>ü•ó ü•ó</td>
            <td style="color: #dc3545; font-weight: 700;">-$50 - Diet Penalty</td>
          </tr>
        </tbody>
      </table>
      
      <div class="receipt-footer">
        <p>‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê</p>
        <p class="special">üçîüçüü•§ COMBO MEAL JACKPOT!</p>
        <p>Get Burger + Fries + Drink = $500 WIN!</p>
        <p style="margin-top: 8px;">‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê</p>
        <p>üçî Burgers are your friend!</p>
        <p>üçü Fries add up fast!</p>
        <p>ü•§ Drinks give small wins!</p>
        <p>ü•ó Avoid the salad - it costs you!</p>
        <p style="margin-top: 12px; font-size: 0.65rem;">THANK YOU FOR DINING!</p>
        <p style="font-size: 0.65rem;">McMARKK'S BURGERS ¬© 2025</p>
      </div>
    </div>
  </div>
</div>

<script>
(() => {
  'use strict';

  const symbols = ["üçî", "üçü", "ü•§", "ü•ó"];
  let balance = Number(localStorage.getItem('localPlayerCash')) || 0;
  let bet = 15;
  let spinning = false;
  let autoSpinning = false;
  let autoSpinInterval = null;
  
  const reels = [
    document.getElementById("reel1"),
    document.getElementById("reel2"),
    document.getElementById("reel3")
  ];
  const balanceDisplay = document.getElementById("walletDisplay");
  const messageDisplay = document.getElementById("message");
  const comboDisplay = document.getElementById("comboDisplay");
  const exitBtn = document.getElementById("exitBtn");
  const spinBtn = document.getElementById("spinBtn");
  const betSelector = document.getElementById("betSelector");
  const autoSpinBtn = document.getElementById("autoSpinBtn");
  const openPayTableBtn = document.getElementById("openPayTableBtn");
  const paytableModal = document.getElementById("paytableModal");
  const closePayTableBtn = document.getElementById("closePayTableBtn");
  
  balanceDisplay.textContent = `Balance: $${balance}`;

  // Enhanced Food Cooking Sound System
  let audioContext = null;
  let backgroundAmbience = null;
  let isAmbiencePlaying = false;

  function initAudio() {
    if (!audioContext) {
      audioContext = new (window.AudioContext || window.webkitAudioContext)();
    }
    if (audioContext.state === 'suspended') {
      audioContext.resume();
    }
    return audioContext;
  }

  function createGrillSizzle(ctx, startTime, duration) {
    // Create sizzling sound using noise and filtering
    const bufferSize = ctx.sampleRate * duration;
    const buffer = ctx.createBuffer(1, bufferSize, ctx.sampleRate);
    const data = buffer.getChannelData(0);
    
    for (let i = 0; i < bufferSize; i++) {
      data[i] = (Math.random() * 2 - 1) * 0.3;
    }
    
    const source = ctx.createBufferSource();
    const filter = ctx.createBiquadFilter();
    const gain = ctx.createGain();
    
    source.buffer = buffer;
    filter.type = 'bandpass';
    filter.frequency.value = 2000;
    filter.Q.value = 5;
    
    source.connect(filter);
    filter.connect(gain);
    gain.connect(ctx.destination);
    
    gain.gain.setValueAtTime(0, startTime);
    gain.gain.linearRampToValueAtTime(0.15, startTime + 0.1);
    gain.gain.exponentialRampToValueAtTime(0.001, startTime + duration);
    
    source.start(startTime);
    source.stop(startTime + duration);
  }

  function createFryerBubble(ctx, startTime, duration) {
    // Create bubbling fryer sound
    for (let i = 0; i < 8; i++) {
      const osc = ctx.createOscillator();
      const gain = ctx.createGain();
      const filter = ctx.createBiquadFilter();
      
      osc.connect(filter);
      filter.connect(gain);
      gain.connect(ctx.destination);
      
      osc.frequency.value = 80 + Math.random() * 40;
      osc.type = 'sawtooth';
      filter.type = 'lowpass';
      filter.frequency.value = 400;
      
      const bubbleStart = startTime + (i * duration / 8) + Math.random() * 0.1;
      const bubbleDuration = 0.1 + Math.random() * 0.1;
      
      gain.gain.setValueAtTime(0, bubbleStart);
      gain.gain.linearRampToValueAtTime(0.08, bubbleStart + 0.02);
      gain.gain.exponentialRampToValueAtTime(0.001, bubbleStart + bubbleDuration);
      
      osc.start(bubbleStart);
      osc.stop(bubbleStart + bubbleDuration);
    }
  }

  function createDrinkPour(ctx, startTime) {
    // Create drink pouring sound
    const bufferSize = ctx.sampleRate * 0.8;
    const buffer = ctx.createBuffer(1, bufferSize, ctx.sampleRate);
    const data = buffer.getChannelData(0);
    
    for (let i = 0; i < bufferSize; i++) {
      const t = i / ctx.sampleRate;
      data[i] = (Math.random() * 2 - 1) * 0.2 * Math.exp(-t * 2);
    }
    
    const source = ctx.createBufferSource();
    const filter = ctx.createBiquadFilter();
    const gain = ctx.createGain();
    
    source.buffer = buffer;
    filter.type = 'highpass';
    filter.frequency.value = 1000;
    
    source.connect(filter);
    filter.connect(gain);
    gain.connect(ctx.destination);
    
    gain.gain.setValueAtTime(0.12, startTime);
    gain.gain.exponentialRampToValueAtTime(0.001, startTime + 0.8);
    
    source.start(startTime);
  }

  function createCashRegister(ctx, startTime) {
    // Create cash register "cha-ching" sound
    const frequencies = [523.25, 659.25, 783.99, 1046.50]; // C, E, G, C
    frequencies.forEach((freq, i) => {
      const osc = ctx.createOscillator();
      const gain = ctx.createGain();
      osc.connect(gain);
      gain.connect(ctx.destination);
      
      osc.frequency.value = freq;
      osc.type = 'triangle';
      gain.gain.setValueAtTime(0.15, startTime + i * 0.05);
      gain.gain.exponentialRampToValueAtTime(0.001, startTime + i * 0.05 + 0.3);
      
      osc.start(startTime + i * 0.05);
      osc.stop(startTime + i * 0.05 + 0.3);
    });
  }

  function startBackgroundAmbience() {
    if (isAmbiencePlaying) return;
    
    try {
      const ctx = initAudio();
      isAmbiencePlaying = true;
      
      function playAmbienceLoop() {
        if (!isAmbiencePlaying) return;
        
        const now = ctx.currentTime;
        
        // Kitchen ambience - low frequency hum
        const osc = ctx.createOscillator();
        const gain = ctx.createGain();
        const filter = ctx.createBiquadFilter();
        
        osc.connect(filter);
        filter.connect(gain);
        gain.connect(ctx.destination);
        
        osc.frequency.value = 60;
        osc.type = 'sine';
        filter.type = 'lowpass';
        filter.frequency.value = 200;
        
        gain.gain.setValueAtTime(0.03, now);
        gain.gain.linearRampToValueAtTime(0.05, now + 1);
        gain.gain.exponentialRampToValueAtTime(0.001, now + 8);
        
        osc.start(now);
        osc.stop(now + 8);
        
        // Random kitchen sounds
        if (Math.random() < 0.3) {
          createGrillSizzle(ctx, now + Math.random() * 6, 1 + Math.random());
        }
        
        setTimeout(playAmbienceLoop, 6000 + Math.random() * 4000);
      }
      
      playAmbienceLoop();
    } catch (e) {
      console.log('Ambience failed:', e);
    }
  }

  function stopBackgroundAmbience() {
    isAmbiencePlaying = false;
  }

  function playSound(type) {
    try {
      const ctx = initAudio();
      const now = ctx.currentTime;
      
      if (type === 'spin') {
        // Grill sizzling while spinning
        createGrillSizzle(ctx, now, 2.5);
        createFryerBubble(ctx, now + 0.5, 2);
        
        // Original slot machine sounds mixed in
        for (let i = 0; i < 3; i++) {
          const osc = ctx.createOscillator();
          const gain = ctx.createGain();
          osc.connect(gain);
          gain.connect(ctx.destination);
          
          osc.frequency.value = 200 + (i * 60);
          osc.type = 'square';
          gain.gain.setValueAtTime(0.08, now + i * 0.1);
          gain.gain.exponentialRampToValueAtTime(0.001, now + i * 0.1 + 0.15);
          
          osc.start(now + i * 0.1);
          osc.stop(now + i * 0.1 + 0.15);
        }
      } else if (type === 'reel_stop') {
        // Order ready bell
        const osc = ctx.createOscillator();
        const gain = ctx.createGain();
        osc.connect(gain);
        gain.connect(ctx.destination);
        
        osc.frequency.value = 800;
        osc.type = 'sine';
        gain.gain.setValueAtTime(0.12, now);
        gain.gain.exponentialRampToValueAtTime(0.001, now + 0.4);
        
        osc.start(now);
        osc.stop(now + 0.4);
      } else if (type === 'win') {
        // Happy cooking sounds
        createDrinkPour(ctx, now);
        setTimeout(() => {
          const ctx2 = initAudio();
          createCashRegister(ctx2, ctx2.currentTime);
        }, 300);
        
        [500, 650, 800, 1000].forEach((freq, i) => {
          const osc = ctx.createOscillator();
          const gain = ctx.createGain();
          osc.connect(gain);
          gain.connect(ctx.destination);
          
          osc.frequency.value = freq;
          osc.type = 'sine';
          gain.gain.setValueAtTime(0.15, now + i * 0.09);
          gain.gain.exponentialRampToValueAtTime(0.001, now + i * 0.09 + 0.28);
          
          osc.start(now + i * 0.09);
          osc.stop(now + i * 0.09 + 0.28);
        });
      } else if (type === 'bigwin') {
        // Kitchen celebration - multiple cooking sounds
        createGrillSizzle(ctx, now, 1.5);
        createFryerBubble(ctx, now + 0.2, 1.8);
        createDrinkPour(ctx, now + 0.5);
        createCashRegister(ctx, now + 1);
        
        for (let i = 0; i < 12; i++) {
          const osc = ctx.createOscillator();
          const gain = ctx.createGain();
          osc.connect(gain);
          gain.connect(ctx.destination);
          
          osc.frequency.value = 450 + (i * 130);
          osc.type = 'triangle';
          gain.gain.setValueAtTime(0.12, now + i * 0.07);
          gain.gain.exponentialRampToValueAtTime(0.001, now + i * 0.07 + 0.23);
          
          osc.start(now + i * 0.07);
          osc.stop(now + i * 0.07 + 0.23);
        }
      } else if (type === 'button') {
        // Cash register button press
        createCashRegister(ctx, now);
      }
    } catch (e) {
      console.log('Audio playback failed:', e);
    }
  }

  document.addEventListener('click', () => {
    initAudio();
    // Play welcome kitchen sound
    setTimeout(() => {
      try {
        const ctx = initAudio();
        createCashRegister(ctx, ctx.currentTime);
        messageDisplay.textContent = 'üçî Welcome to McMarkk\'s Kitchen! üçî';
      } catch (e) {}
    }, 100);
  }, { once: true });
  
  document.addEventListener('touchstart', () => {
    initAudio();
    setTimeout(() => {
      try {
        const ctx = initAudio();
        createCashRegister(ctx, ctx.currentTime);
        messageDisplay.textContent = 'üçî Welcome to McMarkk\'s Kitchen! üçî';
      } catch (e) {}
    }, 100);
  }, { once: true });

  document.querySelectorAll('button').forEach(btn => {
    btn.addEventListener('click', () => playSound('button'));
  });

  function openPaytable() {
    paytableModal.classList.add('open');
    document.body.classList.add('modal-open');
  }

  function closePaytable() {
    paytableModal.classList.remove('open');
    document.body.classList.remove('modal-open');
  }

  openPayTableBtn.addEventListener('click', openPaytable);
  closePayTableBtn.addEventListener('click', closePaytable);
  paytableModal.addEventListener('click', (e) => {
    if (e.target.classList.contains('modal-backdrop') || e.target.dataset.close === 'true') {
      closePaytable();
    }
  });

  autoSpinBtn.addEventListener('click', () => {
    if (spinning) return;
    
    autoSpinning = !autoSpinning;
    
    if (autoSpinning) {
      autoSpinBtn.textContent = '‚è∏Ô∏è Stop Auto';
      autoSpinBtn.style.background = 'linear-gradient(135deg, rgba(220, 53, 69, 0.95) 0%, rgba(200, 35, 51, 1) 100%)';
      autoSpinBtn.style.color = '#fff';
      messageDisplay.textContent = 'üîÑ Auto Kitchen Mode!';
      startBackgroundAmbience();
      startAutoSpin();
    } else {
      autoSpinBtn.textContent = 'üîÑ Auto Spin';
      autoSpinBtn.style.background = '';
      autoSpinBtn.style.color = '';
      messageDisplay.textContent = '‚èπÔ∏è Kitchen Closed!';
      stopBackgroundAmbience();
      stopAutoSpin();
    }
  });
  
  function startAutoSpin() {
    if (balance < bet) {
      messageDisplay.textContent = `‚ùå Need $${bet} to order!`;
      autoSpinning = false;
      autoSpinBtn.textContent = 'üîÑ Auto Spin';
      autoSpinBtn.style.background = '';
      autoSpinBtn.style.color = '';
      return;
    }
    
    // Trigger first spin immediately
    triggerSpin();
    
    // Set interval for subsequent spins with pause to see results
    autoSpinInterval = setInterval(() => {
      if (!spinning && balance >= bet && autoSpinning) {
        triggerSpin();
      } else if (balance < bet) {
        messageDisplay.textContent = `‚ùå Insufficient funds for auto spin!`;
        autoSpinning = false;
        autoSpinBtn.textContent = 'üîÑ Auto Spin';
        autoSpinBtn.style.background = '';
        autoSpinBtn.style.color = '';
        stopAutoSpin();
      }
    }, 5500); // Wait 5.5 seconds between spins (allows 2s pause to see results)
  }
  
  function stopAutoSpin() {
    if (autoSpinInterval) {
      clearInterval(autoSpinInterval);
      autoSpinInterval = null;
    }
  }
  
  function triggerSpin() {
    if (spinning) return;
    
    if (balance < bet) {
      messageDisplay.textContent = `‚ùå Need $${bet} to order!`;
      if (autoSpinning) {
        autoSpinning = false;
        autoSpinBtn.textContent = 'üîÑ Auto Spin';
        autoSpinBtn.style.background = '';
        autoSpinBtn.style.color = '';
        stopAutoSpin();
      }
      return;
    }
    
    spinning = true;
    balance -= bet;
    localStorage.setItem('localPlayerCash', balance);
    balanceDisplay.textContent = `Balance: $${balance}`;
    spinBtn.disabled = true;
    messageDisplay.textContent = "Cooking your order...";
    comboDisplay.style.display = 'none';
    
    playSound('spin');
    spinReels();
  }

  exitBtn.addEventListener('click', () => {
    window.location.href = '../index.html';
  });

  spinBtn.addEventListener("click", () => {
    if (autoSpinning) {
      messageDisplay.textContent = '‚ö†Ô∏è Stop auto spin first!';
      return;
    }
    triggerSpin();
  });

  // Add hover sound effect for spin button
  spinBtn.addEventListener('mouseenter', () => {
    if (!spinning) {
      try {
        const ctx = initAudio();
        const osc = ctx.createOscillator();
        const gain = ctx.createGain();
        osc.connect(gain);
        gain.connect(ctx.destination);
        
        osc.frequency.value = 400;
        osc.type = 'sine';
        gain.gain.setValueAtTime(0.05, ctx.currentTime);
        gain.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 0.2);
        
        osc.start(ctx.currentTime);
        osc.stop(ctx.currentTime + 0.2);
      } catch (e) {}
    }
  });

  function spinReels() {
    const duration = 2500 + Math.random() * 1500;
    const interval = 80;
    let elapsed = 0;
    
    reels.forEach(reel => reel.classList.add('spinning'));
    
    const spinInterval = setInterval(() => {
      reels.forEach(reel => reel.textContent = getRandomSymbol());
      elapsed += interval;
      if (elapsed >= duration) {
        clearInterval(spinInterval);
        reels.forEach(reel => reel.classList.remove('spinning'));
        playSound('reel_stop');
        finishSpin(reels.map(r => r.textContent));
        spinBtn.disabled = false;
        spinning = false;
      }
    }, interval);
  }

  function getRandomSymbol() {
    return symbols[Math.floor(Math.random() * symbols.length)];
  }

  function finishSpin(result) {
    reels.forEach(r => r.classList.remove('winning'));
    let payout = 0;
    const combo = result.join('');
    
    if (combo === 'üçîüçüü•§') {
      payout = 500;
      reels.forEach(r => r.classList.add('winning'));
      messageDisplay.textContent = 'üçîüçüü•§ PERFECT COMBO MEAL! +$500';
      comboDisplay.style.display = 'block';
      playSound('bigwin');
      
      // Special combo meal cooking celebration
      setTimeout(() => {
        try {
          const ctx = initAudio();
          createGrillSizzle(ctx, ctx.currentTime, 2);
          createFryerBubble(ctx, ctx.currentTime + 0.3, 2);
          createDrinkPour(ctx, ctx.currentTime + 0.8);
        } catch (e) {
          console.log('Combo celebration failed:', e);
        }
      }, 500);
    } else {
      const counts = {};
      result.forEach((s, i) => {
        counts[s] = counts[s] ? [...counts[s], i] : [i];
      });
      
      for (let symbol in counts) {
        const len = counts[symbol].length;
        if (len === 3) {
          payout += symbol === 'ü•ó' ? -100 : symbol === 'üçî' ? 100 : symbol === 'üçü' ? 50 : symbol === 'ü•§' ? 15 : 0;
          counts[symbol].forEach(i => reels[i].classList.add('winning'));
        } else if (len === 2 && counts[symbol][1] - counts[symbol][0] === 1) {
          payout += symbol === 'ü•ó' ? -50 : symbol === 'üçî' ? 50 : symbol === 'üçü' ? 25 : symbol === 'ü•§' ? 5 : 0;
          counts[symbol].forEach(i => reels[i].classList.add('winning'));
        }
      }
      
      if (payout === 0) {
        messageDisplay.textContent = 'üßæ No match. Keep cooking!';
      } else if (payout > 0) {
        // Symbol-specific win messages and sounds
        const symbols = result.join('');
        if (symbols.includes('üçîüçîüçî')) {
          messageDisplay.textContent = `üçî Triple Burger Deluxe! +$${payout}!`;
          setTimeout(() => {
            try {
              const ctx = initAudio();
              createGrillSizzle(ctx, ctx.currentTime, 1.5);
            } catch (e) {}
          }, 200);
        } else if (symbols.includes('üçüüçüüçü')) {
          messageDisplay.textContent = `üçü Fries Frenzy! +$${payout}!`;
          setTimeout(() => {
            try {
              const ctx = initAudio();
              createFryerBubble(ctx, ctx.currentTime, 1.8);
            } catch (e) {}
          }, 200);
        } else if (symbols.includes('ü•§ü•§ü•§')) {
          messageDisplay.textContent = `ü•§ Drink Special! +$${payout}!`;
          setTimeout(() => {
            try {
              const ctx = initAudio();
              createDrinkPour(ctx, ctx.currentTime);
            } catch (e) {}
          }, 200);
        } else {
          messageDisplay.textContent = `üçî Order Complete! +$${payout}!`;
        }
        playSound('win');
      } else {
        messageDisplay.textContent = `ü•ó Healthy Choice Fee: -$${-payout}!`;
      }
    }
    
    balance += payout;
    balanceDisplay.textContent = `Balance: $${balance}`;
    localStorage.setItem('localPlayerCash', balance);
  }

  // Button sound effects
  document.querySelectorAll('button').forEach(btn => {
    btn.addEventListener('click', () => playSound('button'));
  });

})();
</script>
</body>
</html>
