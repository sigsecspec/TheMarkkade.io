/* Base reset and variables */
:root{
  --bg:#0b0f1a;
  --bg2:#0f1626;
  --neon:#00fff0;
  --neon2:#ff2df3;
  --gold:#ffd369;
  --btn:#1b2235;
  --btnText:#e8f0ff;
  --glass:rgba(255,255,255,0.08);
  --shadow:rgba(0,0,0,0.35);
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:radial-gradient(1200px 800px at 50% 20%, #151c2c 0%, var(--bg) 55%, #05070d 100%);color:#e6edff;font-family:Montserrat,system-ui,sans-serif}
body{overscroll-behavior:none}

.app{
  display:flex;flex-direction:column;height:100svh;width:100vw;max-width:100%;
}

/* Split layout tuned for Razr: top display, bottom controls */
.display{position:relative;flex:1 1 55%;min-height:55svh;max-height:65svh;padding:16px;overflow:hidden;border-bottom:1px solid rgba(255,255,255,.06)}
.controls{position:relative;flex:1 1 45%;min-height:35svh;max-height:45svh;padding:12px}

/* Bezel and marquee */
.bezel{position:absolute;inset:10px;border-radius:22px;background:linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02));box-shadow:0 20px 60px var(--shadow) inset, 0 4px 20px rgba(0,0,0,.5)}
.glass{backdrop-filter:blur(6px)}
.marquee{position:absolute;inset:0;pointer-events:none}
.marquee-glow{position:absolute;inset:-20%;background:radial-gradient(600px 220px at 50% 5%, rgba(0,255,247,.25), transparent 60%), radial-gradient(600px 220px at 50% 95%, rgba(255,45,243,.18), transparent 60%)}
/* Chrome border lights */
.marquee::after{content:"";position:absolute;inset:12px;border-radius:20px;border:1px solid rgba(255,255,255,.12);box-shadow:0 0 40px rgba(0,255,240,.12), 0 0 60px rgba(255,45,243,.12) inset}

/* Reels container */
.reels{position:relative;height:100%;display:grid;grid-template-columns:repeat(5,1fr);gap:14px;padding:18px;align-items:center;justify-items:center}
.reel{position:relative;width:100%;height:100%;max-width:340px;border-radius:16px;background:linear-gradient(180deg, #0e1527, #111a31);box-shadow:0 12px 36px rgba(0,0,0,.55), inset 0 1px 0 rgba(255,255,255,.08);overflow:hidden}
.reel::before{content:"";position:absolute;inset:0;background:linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,0) 25%, rgba(255,255,255,0) 75%, rgba(255,255,255,.12));mix-blend-mode:overlay;pointer-events:none}

/* Symbol strip */
.strip{position:absolute;left:0;right:0;top:0;will-change:transform}
.symbol{display:flex;align-items:center;justify-content:center;width:100%;height:120px;font-family:Orbitron,system-ui,sans-serif;font-weight:800;font-size:28px;letter-spacing:1px;color:#fff;text-shadow:0 2px 6px rgba(0,0,0,.6);background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.0));border-bottom:1px solid rgba(255,255,255,.06)}
.symbol .chip{width:56px;height:56px;border-radius:50%;background:conic-gradient(from 0deg, #ffdf7e, #ffd369, #ffdf7e);box-shadow:0 8px 16px rgba(0,0,0,.45), inset 0 2px 2px rgba(255,255,255,.6)}
.symbol .seven{color:#ff4d7a;filter:drop-shadow(0 4px 8px rgba(255,77,122,.5))}
.symbol .bar{color:#a8b2ff}
.symbol .diamond{color:#00fff0}

/* Overlay FX */
.fx-layer{position:absolute;inset:0;pointer-events:none}
.lines-canvas{position:absolute;inset:0;pointer-events:none}
.banner{position:absolute;bottom:18px;left:50%;transform:translateX(-50%);padding:10px 16px;border-radius:12px;background:linear-gradient(90deg, rgba(0,255,240,.15), rgba(255,45,243,.15));border:1px solid rgba(255,255,255,.16);backdrop-filter:blur(8px);box-shadow:0 8px 32px rgba(0,0,0,.5);font-weight:700}
.banner[data-tone="good"]{background:linear-gradient(90deg, rgba(0,255,140,.18), rgba(0,255,240,.18)); border-color: rgba(0,255,200,.2)}
.banner[data-tone="bad"]{background:linear-gradient(90deg, rgba(255,80,80,.18), rgba(255,45,120,.18)); border-color: rgba(255,120,120,.2)}
.banner[data-tone="neutral"]{background:linear-gradient(90deg, rgba(160,170,200,.16), rgba(180,190,220,.12));}

/* Controls */
.meters{display:flex;gap:12px;justify-content:center;margin-bottom:10px}
.meter{display:flex;flex-direction:column;gap:4px;padding:10px 12px;background:var(--glass);border:1px solid rgba(255,255,255,.08);border-radius:12px;min-width:120px;text-align:center}
.meter span{opacity:.75;font-size:12px}
.meter strong{font-family:Orbitron,system-ui,sans-serif;letter-spacing:.5px}

.buttons{display:grid;grid-template-columns:repeat(5, 1fr);gap:10px;align-items:center}
.btn{display:flex;align-items:center;justify-content:center;height:56px;border-radius:14px;border:1px solid rgba(255,255,255,.12);background:linear-gradient(180deg, #1b2235, #141b2c);color:var(--btnText);font-weight:800;letter-spacing:.5px;text-shadow:0 2px 8px rgba(0,0,0,.6);box-shadow:0 8px 22px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.08);transition:transform .04s ease, box-shadow .12s ease}
.btn:active{transform:translateY(1px);box-shadow:0 4px 12px rgba(0,0,0,.5), inset 0 0 0 rgba(255,255,255,0)}
.btn.primary{grid-column: span 2;background:linear-gradient(180deg, #0fe, #0bb8b0);color:#04131b}
.btn.ghost{background:linear-gradient(180deg, #2a2f45, #1a2034)}
.btn.secondary{background:linear-gradient(180deg, #222942, #161d31)}
.btn.readout{pointer-events:none;font-family:Orbitron,system-ui,sans-serif}
.btn.active{outline:2px solid var(--neon); box-shadow:0 0 0 3px rgba(0,255,240,.18), 0 10px 24px rgba(0,255,240,.3)}

/* Top-half touch effects */
.display.touching .reels{filter:brightness(1.15) saturate(1.08)}
.touch-ripple{position:absolute;border-radius:999px;pointer-events:none;background:radial-gradient(circle, rgba(0,255,240,.35) 0%, rgba(0,255,240,.25) 25%, rgba(0,255,240,0) 70%);animation:ripple .6s ease-out forwards}
@keyframes ripple{from{opacity:.6;transform:translate(-50%,-50%) scale(.75)}to{opacity:0;transform:translate(-50%,-50%) scale(2.5)}}

/* Flare effect on top display touch */
.flare{position:absolute;pointer-events:none;width:140px;height:140px;border-radius:50%;background:radial-gradient(circle at 50% 50%, rgba(255,255,255,.65) 0%, rgba(255,255,255,.25) 18%, rgba(255,255,255,0) 70%), conic-gradient(from 0deg, rgba(0,255,240,.25), rgba(255,45,243,.25), rgba(0,255,240,.25));filter:blur(1px);mix-blend-mode:screen;animation:flare-pop .5s ease-out forwards}
@keyframes flare-pop{from{opacity:.75;transform:translate(-50%,-50%) scale(.6) rotate(0deg)}to{opacity:0;transform:translate(-50%,-50%) scale(1.8) rotate(60deg)}}

/* Reel shadow fade for depth */
.reel::after{content:"";position:absolute;inset:0;background:linear-gradient(180deg, rgba(0,0,0,.55), rgba(0,0,0,0) 12%, rgba(0,0,0,0) 88%, rgba(0,0,0,.55));pointer-events:none}

/* Responsive tweaks */
@media (min-width: 840px){
  .reels{grid-template-columns:repeat(3, 1fr);gap:16px}
}
@media (max-height:700px){
  .symbol{height:100px}
}
