<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>The Annex - Markkade.io</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{
    font-family:system-ui,Arial;
    background:#fff;
    color:#1d1d1f;
    display:flex;
    flex-direction:column;
    height:100vh;
    overflow:hidden;
}
.top-half{
    flex:1;
    display:flex;
    align-items:center;
    justify-content:center;
    background:#eee;
    background-image:url('/Cover art/Annex.png');
    background-size:cover;
    background-position:center;
    position:relative;
    overflow:hidden;
}
.top-half::before{
    content:'';
    position:absolute;
    top:0;left:0;right:0;bottom:0;
    background:linear-gradient(135deg, rgba(76,175,80,0.1), rgba(139,195,74,0.1));
    animation:gradientShift 6s ease infinite;
}
@keyframes gradientShift{
    0%,100%{opacity:0.1;}
    50%{opacity:0.3;}
}
.currency-bar{
    background:rgba(248,248,248,0.95);
    backdrop-filter:blur(10px);
    -webkit-backdrop-filter:blur(10px);
    border-top:1px solid rgba(0,0,0,0.08);
    border-bottom:1px solid rgba(0,0,0,0.08);
    display:flex;
    justify-content:space-around;
    align-items:center;
    padding:10px 0;
    font-weight:600;
    font-size:14px;
    box-shadow:0 2px 10px rgba(0,0,0,0.05);
}
.currency-item{
    display:flex;
    align-items:center;
    gap:6px;
    position:relative;
    transition:transform 0.3s cubic-bezier(0.34,1.56,0.64,1);
}
.currency-item:active{
    transform:scale(0.95);
}
.currency-icon{
    font-size:18px;
    animation:float 3s ease-in-out infinite;
}
.currency-item:nth-child(2) .currency-icon{
    animation-delay:1.5s;
}
@keyframes float{
    0%,100%{transform:translateY(0);}
    50%{transform:translateY(-3px);}
}
.bottom-half{
    flex:1;
    background:#fff;
    overflow-y:auto;
    -webkit-overflow-scrolling:touch;
    padding:12px;
}
.back-btn{
    background:linear-gradient(135deg, #f5f5f5, #e8e8e8);
    padding:10px 14px;
    border-radius:14px;
    margin-bottom:12px;
    text-align:center;
    font-weight:600;
    cursor:pointer;
    transition:all 0.3s cubic-bezier(0.34,1.56,0.64,1);
    box-shadow:0 2px 8px rgba(0,0,0,0.08);
    position:relative;
    overflow:hidden;
}
.back-btn::before{
    content:'';
    position:absolute;
    top:50%;left:50%;
    width:0;height:0;
    border-radius:50%;
    background:rgba(76,175,80,0.2);
    transform:translate(-50%,-50%);
    transition:width 0.6s, height 0.6s;
}
.back-btn:active::before{
    width:300px;
    height:300px;
}
.back-btn:active{
    transform:scale(0.96);
}
.section{
    background:linear-gradient(135deg, #fafafa, #f2f2f2);
    padding:14px;
    border-radius:16px;
    margin-bottom:12px;
    box-shadow:0 4px 12px rgba(0,0,0,0.06);
    border:1px solid rgba(0,0,0,0.04);
    position:relative;
    overflow:hidden;
    transition:transform 0.3s cubic-bezier(0.34,1.56,0.64,1);
}
.section::after{
    content:'';
    position:absolute;
    top:-50%;right:-50%;
    width:100%;height:100%;
    background:linear-gradient(45deg, transparent, rgba(76,175,80,0.03), transparent);
    transform:rotate(45deg);
    animation:shine 3s infinite;
}
@keyframes shine{
    0%{transform:translateX(-100%) rotate(45deg);}
    100%{transform:translateX(100%) rotate(45deg);}
}
.section:active{
    transform:scale(0.98);
}
.section-title{
    font-weight:700;
    font-size:17px;
    margin-bottom:8px;
    text-align:center;
    background:linear-gradient(135deg, #4CAF50, #66BB6A);
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
    background-clip:text;
}
.section-desc{
    font-size:13px;
    color:#666;
    text-align:center;
    margin-bottom:10px;
}
.timer-display{
    font-size:20px;
    font-weight:700;
    background:linear-gradient(135deg, #4CAF50, #66BB6A);
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
    background-clip:text;
    text-align:center;
    margin:10px 0;
    text-shadow:0 0 20px rgba(76,175,80,0.3);
    animation:pulse 2s ease-in-out infinite;
}
@keyframes pulse{
    0%,100%{transform:scale(1);}
    50%{transform:scale(1.05);}
}
.action-btn{
    background:linear-gradient(135deg, #4CAF50, #66BB6A);
    color:#fff;
    border:none;
    padding:12px;
    border-radius:14px;
    font-size:15px;
    font-weight:700;
    cursor:pointer;
    transition:all 0.4s cubic-bezier(0.34,1.56,0.64,1);
    width:100%;
    margin-top:8px;
    box-shadow:0 4px 15px rgba(76,175,80,0.3);
    position:relative;
    overflow:hidden;
}
.action-btn::before{
    content:'';
    position:absolute;
    top:0;left:-100%;
    width:100%;height:100%;
    background:linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
    transition:left 0.6s;
}
.action-btn:hover::before{
    left:100%;
}
.action-btn:active{
    transform:scale(0.95);
    box-shadow:0 2px 8px rgba(76,175,80,0.4);
}
.action-btn:disabled{
    background:linear-gradient(135deg, #ccc, #bbb);
    cursor:not-allowed;
    box-shadow:none;
}
.input-box{
    width:100%;
    padding:12px;
    border-radius:12px;
    border:2px solid rgba(76,175,80,0.2);
    font-size:15px;
    margin-bottom:8px;
    transition:all 0.3s ease;
    background:rgba(255,255,255,0.8);
}
.input-box:focus{
    outline:none;
    border-color:#4CAF50;
    box-shadow:0 0 0 3px rgba(76,175,80,0.1);
    transform:translateY(-2px);
}
.message{
    padding:10px;
    border-radius:10px;
    text-align:center;
    font-size:13px;
    font-weight:600;
    margin-top:10px;
    display:none;
    animation:slideUp 0.4s cubic-bezier(0.34,1.56,0.64,1);
}
@keyframes slideUp{
    from{
        opacity:0;
        transform:translateY(20px);
    }
    to{
        opacity:1;
        transform:translateY(0);
    }
}
.message.success{
    background:linear-gradient(135deg, #d4edda, #c3e6cb);
    color:#155724;
    box-shadow:0 4px 12px rgba(76,175,80,0.2);
}
.message.error{
    background:linear-gradient(135deg, #f8d7da, #f5c6cb);
    color:#721c24;
    box-shadow:0 4px 12px rgba(220,53,69,0.2);
}
.message.show{display:block;}
.page-transition{
    position:fixed;
    top:0;left:0;
    width:100%;height:100%;
    background:linear-gradient(135deg, #4CAF50, #66BB6A);
    z-index:9999;
    display:flex;
    align-items:center;
    justify-content:center;
    opacity:0;
    pointer-events:none;
    transition:opacity 0.5s cubic-bezier(0.4,0,0.2,1);
}
.page-transition::before{
    content:'';
    position:absolute;
    width:100%;height:100%;
    background:radial-gradient(circle at center, transparent 0%, rgba(255,255,255,0.1) 100%);
    animation:ripple 1.5s ease-out infinite;
}
@keyframes ripple{
    0%{transform:scale(0.8);opacity:1;}
    100%{transform:scale(1.5);opacity:0;}
}
.page-transition.active{
    opacity:1;
    pointer-events:auto;
}
.loader{
    width:50px;
    height:50px;
    border:4px solid rgba(255,255,255,0.3);
    border-top:4px solid #fff;
    border-radius:50%;
    animation:spin 0.8s linear infinite;
}
@keyframes spin{
    to{transform:rotate(360deg);}
}
</style>
</head>
<body>

<div class="page-transition" id="pageTransition">
    <div class="loader"></div>
</div>

<div class="top-half"></div>

<div class="currency-bar">
    <div class="currency-item">
        <span class="currency-icon">üí∞</span>
        <span id="playerCash">0</span>
    </div>
    <div class="currency-item">
        <span class="currency-icon">ü™ô</span>
        <span id="playerCoins">0</span>
    </div>
</div>

<div class="bottom-half">
    <div class="back-btn" onclick="goBack()">‚Üê Back to Hub</div>

    <div class="section" id="firstTimeBonus" style="display:none;">
        <div class="section-title">üéâ Welcome Bonus!</div>
        <div class="section-desc">Get $1,000 cash + 500 coins to start!</div>
        <button class="action-btn" onclick="claimWelcomeBonus()">Claim Welcome Bonus</button>
        <div class="message" id="welcomeMessage"></div>
    </div>

    <div class="section">
        <div class="section-title">üéÅ Daily Bonus</div>
        <div class="section-desc">Get $50 - $5,000 cash every 24 hours</div>
        <div class="timer-display" id="timerDisplay">Ready to Claim!</div>
        <button class="action-btn" id="claimBonusBtn" onclick="claimDailyBonus()">Claim Daily Bonus</button>
        <div class="message" id="bonusMessage"></div>
    </div>

    <div class="section">
        <div class="section-title">üíµ Add Cash</div>
        <div class="section-desc">Add cash to your account</div>
        <input type="number" class="input-box" id="exchangeAmount" placeholder="Enter amount" min="1">
        <button class="action-btn" id="exchangeBtn" onclick="handleExchange()" disabled>Add Cash</button>
        <div class="message" id="resultMessage"></div>
    </div>
</div>

<script>
let localPlayerCash = Number(localStorage.getItem('localPlayerCash')) || 0;
let localPlayerCoins = Number(localStorage.getItem('localPlayerCoins')) || 0;

const DAILY_BONUS_MIN = 50;
const DAILY_BONUS_MAX = 5000;
const WELCOME_CASH = 1000;
const WELCOME_COINS = 500;

function updateCurrencyDisplay() {
    document.getElementById('playerCash').textContent = localPlayerCash.toLocaleString();
    document.getElementById('playerCoins').textContent = localPlayerCoins.toLocaleString();
}

function checkFirstTimePlayer() {
    if (!localStorage.getItem('hasPlayedBefore')) {
        document.getElementById('firstTimeBonus').style.display = 'block';
    }
}

function updateDailyBonusTimer() {
    const lastBonus = localStorage.getItem('lastDailyBonus');
    const now = Date.now();
    const dayMs = 24 * 60 * 60 * 1000;
    
    if (!lastBonus) {
        document.getElementById('timerDisplay').textContent = 'Ready to Claim!';
        document.getElementById('claimBonusBtn').disabled = false;
        return;
    }
    
    const timeLeft = dayMs - (now - parseInt(lastBonus));
    
    if (timeLeft <= 0) {
        document.getElementById('timerDisplay').textContent = 'Ready to Claim!';
        document.getElementById('claimBonusBtn').disabled = false;
    } else {
        const h = Math.floor(timeLeft / 3600000);
        const m = Math.floor((timeLeft % 3600000) / 60000);
        const s = Math.floor((timeLeft % 60000) / 1000);
        document.getElementById('timerDisplay').textContent = `${h}h ${m}m ${s}s`;
        document.getElementById('claimBonusBtn').disabled = true;
        setTimeout(updateDailyBonusTimer, 1000);
    }
}

function claimDailyBonus() {
    const lastBonus = localStorage.getItem('lastDailyBonus');
    const now = Date.now();
    
    if (lastBonus && now - parseInt(lastBonus) < 24 * 60 * 60 * 1000) {
        showMessage('bonusMessage', 'Wait 24 hours between bonuses!', false);
        return;
    }
    
    const bonus = Math.floor(Math.random() * (DAILY_BONUS_MAX - DAILY_BONUS_MIN + 1)) + DAILY_BONUS_MIN;
    localPlayerCash += bonus;
    localStorage.setItem('localPlayerCash', localPlayerCash);
    localStorage.setItem('lastDailyBonus', now.toString());
    
    updateCurrencyDisplay();
    updateDailyBonusTimer();
    showMessage('bonusMessage', `üéâ You received $${bonus.toLocaleString()}!`, true);
}

function claimWelcomeBonus() {
    localPlayerCash += WELCOME_CASH;
    localPlayerCoins += WELCOME_COINS;
    localStorage.setItem('localPlayerCash', localPlayerCash);
    localStorage.setItem('localPlayerCoins', localPlayerCoins);
    localStorage.setItem('hasPlayedBefore', 'true');
    
    updateCurrencyDisplay();
    document.getElementById('firstTimeBonus').style.display = 'none';
    showMessage('welcomeMessage', `üéâ You received $${WELCOME_CASH.toLocaleString()} + ${WELCOME_COINS} coins!`, true);
}

function handleExchange() {
    const amount = parseInt(document.getElementById('exchangeAmount').value);
    if (!amount || amount <= 0) {
        showMessage('resultMessage', 'Enter a valid amount', false);
        return;
    }
    
    localPlayerCash += amount;
    localStorage.setItem('localPlayerCash', localPlayerCash);
    updateCurrencyDisplay();
    document.getElementById('exchangeAmount').value = '';
    document.getElementById('exchangeBtn').disabled = true;
    showMessage('resultMessage', `Added $${amount.toLocaleString()}!`, true);
}

function showMessage(id, text, success) {
    const el = document.getElementById(id);
    el.textContent = text;
    el.className = `message ${success ? 'success' : 'error'} show`;
    setTimeout(() => el.classList.remove('show'), 3000);
}

function goBack() {
    document.getElementById('pageTransition').classList.add('active');
    setTimeout(() => window.location.href = 'index.html', 500);
}

document.getElementById('exchangeAmount').addEventListener('input', e => {
    document.getElementById('exchangeBtn').disabled = !e.target.value || e.target.value <= 0;
});

updateCurrencyDisplay();
checkFirstTimePlayer();
updateDailyBonusTimer();
</script>
</body>
</html>