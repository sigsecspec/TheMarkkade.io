<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Vegas Diamond Slots - Motorola Razr 2024 Professional Edition</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            user-select: none;
            -webkit-user-select: none;
            -webkit-touch-callout: none;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Impact', 'Arial Black', sans-serif;
            background: #000;
            overflow: hidden;
            height: 100vh;
            width: 100vw;
            color: #fff;
        }

        /* ============================================
           MOTOROLA RAZR 2024 DUAL-SCREEN LAYOUT
           ============================================ */
        
        .razr-container {
            display: flex;
            flex-direction: column;
            height: 100vh;
            width: 100vw;
            position: relative;
        }

        /* TOP SCREEN - Main Display (50% height) */
        .top-screen {
            height: 50vh;
            width: 100%;
            background: radial-gradient(ellipse at center, #1a0033, #000000);
            border-bottom: 4px solid #ffd700;
            position: relative;
            overflow: hidden;
            box-shadow: inset 0 -10px 30px rgba(255, 215, 0, 0.2);
        }

        /* BOTTOM SCREEN - Control Panel (50% height) */
        .bottom-screen {
            height: 50vh;
            width: 100%;
            background: linear-gradient(180deg, #1a1a1a 0%, #0d0d0d 100%);
            position: relative;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* ============================================
           ANIMATED BACKGROUND EFFECTS
           ============================================ */
        
        .star-field {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .star {
            position: absolute;
            background: #fff;
            border-radius: 50%;
            animation: twinkle 3s ease-in-out infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        .light-beam {
            position: absolute;
            width: 200%;
            height: 200%;
            background: conic-gradient(from 0deg at 50% 50%, 
                transparent 0deg, rgba(255, 215, 0, 0.05) 30deg, 
                transparent 60deg, rgba(255, 0, 255, 0.05) 120deg,
                transparent 150deg, rgba(0, 255, 255, 0.05) 210deg,
                transparent 240deg, rgba(255, 215, 0, 0.05) 300deg,
                transparent 330deg);
            animation: rotate 20s linear infinite;
            pointer-events: none;
            z-index: 0;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* ============================================
           SLOT MACHINE CABINET
           ============================================ */
        
        .machine-cabinet {
            position: absolute;
            top: 5px;
            left: 50%;
            transform: translateX(-50%);
            width: 98%;
            height: calc(100% - 10px);
            background: linear-gradient(145deg, #8b4513, #654321, #4a2511);
            border-radius: 20px;
            border: 5px solid #ffd700;
            box-shadow: 
                0 0 30px rgba(255, 215, 0, 0.6),
                inset 0 0 50px rgba(0, 0, 0, 0.5),
                inset 0 5px 20px rgba(255, 215, 0, 0.1);
            z-index: 2;
        }

        /* Chrome frame effect */
        .chrome-frame {
            position: absolute;
            top: -5px;
            left: -5px;
            right: -5px;
            bottom: -5px;
            border-radius: 20px;
            background: linear-gradient(145deg, #ffd700, #ffed4e, #ffd700);
            z-index: -1;
            animation: frameGlow 3s ease-in-out infinite alternate;
        }

        @keyframes frameGlow {
            0% { box-shadow: 0 0 20px rgba(255, 215, 0, 0.5); }
            100% { box-shadow: 0 0 40px rgba(255, 215, 0, 1); }
        }

        /* LED Border lights */
        .led-border {
            position: absolute;
            top: 10px;
            left: 10px;
            right: 10px;
            bottom: 10px;
            border-radius: 15px;
            border: 3px solid transparent;
            animation: ledPulse 1.5s ease-in-out infinite;
        }

        @keyframes ledPulse {
            0%, 100% { border-color: rgba(255, 0, 0, 0.8); }
            25% { border-color: rgba(0, 255, 0, 0.8); }
            50% { border-color: rgba(0, 0, 255, 0.8); }
            75% { border-color: rgba(255, 255, 0, 0.8); }
        }

        /* ============================================
           GAME TITLE & JACKPOT DISPLAY
           ============================================ */
        
        .game-header {
            position: absolute;
            top: 15px;
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            text-align: center;
            z-index: 10;
        }

        .game-title {
            font-size: 1.5rem;
            font-weight: 900;
            background: linear-gradient(90deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #8b00ff);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: rainbowText 3s linear infinite;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.8);
            letter-spacing: 3px;
        }

        @keyframes rainbowText {
            0% { background-position: 0% center; }
            100% { background-position: 200% center; }
        }

        .jackpot-display {
            margin-top: 5px;
            padding: 8px 15px;
            background: linear-gradient(145deg, #1a1a1a, #2d2d2d);
            border: 2px solid #ffd700;
            border-radius: 25px;
            display: inline-block;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.5), inset 0 0 10px rgba(255, 215, 0, 0.2);
        }

        .jackpot-label {
            font-size: 0.7rem;
            color: #ff4444;
            font-weight: bold;
        }

        .jackpot-amount {
            font-size: 1.1rem;
            color: #ffd700;
            font-weight: 900;
            text-shadow: 0 0 10px #ffd700;
            animation: numberTick 0.1s infinite;
        }

        @keyframes numberTick {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        /* ============================================
           REELS DISPLAY SYSTEM
           ============================================ */
        
        .reels-frame {
            position: absolute;
            top: 70px;
            left: 50%;
            transform: translateX(-50%);
            width: 92%;
            height: calc(100% - 170px);
            background: linear-gradient(145deg, #000000, #1a1a1a);
            border: 4px solid #ffd700;
            border-radius: 15px;
            box-shadow: 
                inset 0 0 30px rgba(0, 0, 0, 0.9),
                0 0 25px rgba(255, 215, 0, 0.4);
            z-index: 5;
            overflow: hidden;
        }

        /* Glass reflection overlay */
        .glass-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, 
                transparent 0%, 
                rgba(255, 255, 255, 0.1) 25%, 
                transparent 50%, 
                rgba(255, 255, 255, 0.05) 75%, 
                transparent 100%);
            pointer-events: none;
            z-index: 10;
        }

        .reels-container {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: space-between;
            padding: 10px;
            gap: 8px;
        }

        .reel {
            flex: 1;
            height: 100%;
            background: linear-gradient(180deg, #0a0a0a, #1a1a1a);
            border: 2px solid #444;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.8);
        }

        .reel-strip {
            position: absolute;
            width: 100%;
            top: 0;
            left: 0;
            transition: transform 0.05s linear;
            will-change: transform;
        }

        .symbol {
            width: 100%;
            height: 85px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3.5rem;
            background: linear-gradient(145deg, #f8f9fa, #e9ecef);
            border-bottom: 2px solid #333;
            position: relative;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.5));
        }

        .symbol.blur {
            filter: blur(3px);
        }

        /* Symbol animations */
        .symbol-win {
            animation: symbolBounce 0.5s ease-in-out infinite;
        }

        @keyframes symbolBounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.15); }
        }

        /* ============================================
           PAYLINES SYSTEM
           ============================================ */
        
        .paylines {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 8;
        }

        .payline {
            position: absolute;
            left: 0;
            right: 0;
            height: 4px;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .payline-1 { 
            top: 50%; 
            background: linear-gradient(90deg, transparent, #ff0000, #ff0000, transparent);
        }

        .payline-2 { 
            top: 20%; 
            background: linear-gradient(90deg, transparent, #00ff00, #00ff00, transparent);
        }

        .payline-3 { 
            top: 80%; 
            background: linear-gradient(90deg, transparent, #0000ff, #0000ff, transparent);
        }

        .payline-4 { 
            top: 35%; 
            background: linear-gradient(90deg, transparent, #ffff00, #ffff00, transparent);
        }

        .payline-5 { 
            top: 65%; 
            background: linear-gradient(90deg, transparent, #ff00ff, #ff00ff, transparent);
        }

        .payline.active {
            opacity: 1;
            animation: paylinePulse 1s ease-in-out infinite;
        }

        @keyframes paylinePulse {
            0%, 100% { opacity: 0.8; transform: scaleY(1); }
            50% { opacity: 1; transform: scaleY(1.5); }
        }

        /* ============================================
           INFO DISPLAY PANEL
           ============================================ */
        
        .info-panel {
            position: absolute;
            bottom: 15px;
            left: 50%;
            transform: translateX(-50%);
            width: 92%;
            height: 80px;
            background: linear-gradient(145deg, #1a1a1a, #2d2d2d);
            border: 3px solid #ffd700;
            border-radius: 15px;
            display: flex;
            justify-content: space-around;
            align-items: center;
            font-weight: 900;
            box-shadow: 
                0 0 20px rgba(255, 215, 0, 0.5),
                inset 0 0 20px rgba(0, 0, 0, 0.5);
            z-index: 10;
        }

        .info-item {
            text-align: center;
            flex: 1;
            padding: 5px;
            position: relative;
        }

        .info-item::after {
            content: '';
            position: absolute;
            right: 0;
            top: 20%;
            height: 60%;
            width: 2px;
            background: linear-gradient(180deg, transparent, #666, transparent);
        }

        .info-item:last-child::after {
            display: none;
        }

        .info-label {
            font-size: 0.7rem;
            color: #aaa;
            display: block;
            letter-spacing: 1px;
        }

        .info-value {
            font-size: 1.3rem;
            color: #ffd700;
            text-shadow: 0 0 10px #ffd700;
            font-family: 'Courier New', monospace;
            font-weight: 900;
        }

        .credits-value {
            color: #00ff00;
            text-shadow: 0 0 10px #00ff00;
        }

        .win-value {
            color: #ff00ff;
            text-shadow: 0 0 10px #ff00ff;
        }

        /* ============================================
           CONTROL PANEL - BOTTOM SCREEN
           ============================================ */
        
        .control-panel {
            flex: 1;
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 12px;
            position: relative;
            z-index: 10;
        }

        .control-header {
            text-align: center;
            padding: 8px;
            background: linear-gradient(145deg, #2d2d2d, #1a1a1a);
            border-radius: 10px;
            border: 2px solid #444;
        }

        .control-title {
            font-size: 1rem;
            color: #ffd700;
            font-weight: 900;
            letter-spacing: 2px;
        }

        .button-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }

        .button-row {
            display: flex;
            gap: 10px;
        }

        /* Professional Casino Buttons */
        .casino-button {
            height: 65px;
            border: none;
            border-radius: 12px;
            font-size: 0.85rem;
            font-weight: 900;
            cursor: pointer;
            transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 
                0 6px 0 #000,
                0 8px 20px rgba(0, 0, 0, 0.5);
            position: relative;
            overflow: hidden;
            text-transform: uppercase;
            letter-spacing: 1px;
            flex: 1;
        }

        .casino-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s;
        }

        .casino-button:active {
            transform: translateY(4px);
            box-shadow: 
                0 2px 0 #000,
                0 4px 10px rgba(0, 0, 0, 0.5);
        }

        .casino-button:active::before {
            left: 100%;
        }

        .casino-button.disabled {
            opacity: 0.5;
            pointer-events: none;
        }

        /* Spin Button - Large and prominent */
        .spin-button {
            grid-column: 1 / -1;
            height: 90px;
            background: linear-gradient(145deg, #e74c3c, #c0392b, #922b21);
            color: white;
            font-size: 1.4rem;
            border-radius: 20px;
            box-shadow: 
                0 8px 0 #7b241c,
                0 12px 25px rgba(231, 76, 60, 0.6);
            animation: spinButtonPulse 2s ease-in-out infinite;
        }

        @keyframes spinButtonPulse {
            0%, 100% { box-shadow: 0 8px 0 #7b241c, 0 12px 25px rgba(231, 76, 60, 0.6); }
            50% { box-shadow: 0 8px 0 #7b241c, 0 12px 35px rgba(231, 76, 60, 0.9); }
        }

        .spin-button:active {
            transform: translateY(6px);
            box-shadow: 
                0 2px 0 #7b241c,
                0 6px 15px rgba(231, 76, 60, 0.6);
        }

        .bet-button {
            background: linear-gradient(145deg, #3498db, #2980b9, #1f618d);
            color: white;
        }

        .lines-button {
            background: linear-gradient(145deg, #9b59b6, #8e44ad, #7d3c98);
            color: white;
        }

        .max-bet-button {
            background: linear-gradient(145deg, #f39c12, #e67e22, #d35400);
            color: white;
        }

        .auto-button {
            background: linear-gradient(145deg, #1abc9c, #16a085, #138d75);
            color: white;
        }

        .menu-button {
            background: linear-gradient(145deg, #95a5a6, #7f8c8d, #5d6d7e);
            color: white;
        }

        .button-icon {
            font-size: 1.5rem;
            display: block;
            margin-bottom: 3px;
        }

        .button-label {
            font-size: 0.7rem;
            display: block;
        }

        /* ============================================
           WIN ANIMATIONS & OVERLAYS
           ============================================ */
        
        .win-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 100;
            animation: overlayFadeIn 0.3s ease-out;
        }

        @keyframes overlayFadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .win-content {
            text-align: center;
            animation: winContentBounce 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        @keyframes winContentBounce {
            0% { transform: scale(0) rotate(-180deg); }
            100% { transform: scale(1) rotate(0deg); }
        }

        .win-text {
            font-size: 3rem;
            font-weight: 900;
            color: #ffd700;
            text-shadow: 
                0 0 20px #ffd700,
                0 0 40px #ffd700,
                0 0 60px #ffd700;
            margin-bottom: 10px;
            animation: winTextPulse 1s ease-in-out infinite;
        }

        @keyframes winTextPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .win-amount {
            font-size: 2.5rem;
            color: #00ff00;
            text-shadow: 
                0 0 15px #00ff00,
                0 0 30px #00ff00;
            font-weight: 900;
        }

        /* Jackpot Celebration */
        .jackpot-celebration {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.95);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 200;
            animation: jackpotFlash 0.5s ease-in-out infinite;
        }

        @keyframes jackpotFlash {
            0%, 100% { background: rgba(255, 0, 0, 0.9); }
            50% { background: rgba(255, 215, 0, 0.9); }
        }

        .jackpot-text {
            font-size: 4rem;
            font-weight: 900;
            color: #fff;
            text-shadow: 
                0 0 30px #fff,
                0 0 60px #ffd700,
                0 0 90px #ffd700;
            animation: jackpotSpin 2s ease-in-out infinite;
        }

        @keyframes jackpotSpin {
            0%, 100% { transform: scale(1) rotate(0deg); }
            25% { transform: scale(1.3) rotate(-10deg); }
            75% { transform: scale(1.3) rotate(10deg); }
        }

        /* ============================================
           PARTICLE EFFECTS SYSTEM
           ============================================ */
        
        .particle {
            position: absolute;
            pointer-events: none;
            z-index: 150;
        }

        .coin-particle {
            width: 25px;
            height: 25px;
            background: radial-gradient(circle at 30% 30%, #ffed4e, #ffd700, #f1c40f);
            border-radius: 50%;
            border: 3px solid #f39c12;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.8);
        }

        .sparkle-particle {
            width: 10px;
            height: 10px;
            background: #fff;
            border-radius: 50%;
            box-shadow: 0 0 15px #fff;
        }

        .confetti-particle {
            width: 8px;
            height: 15px;
            opacity: 0.8;
        }

        /* Touch Ripple Effect */
        .ripple {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            transform: scale(0);
            animation: rippleEffect 0.6s ease-out;
            pointer-events: none;
        }

        @keyframes rippleEffect {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }

        /* ============================================
           LOADING SCREEN
           ============================================ */
        
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(ellipse at center, #1a0033, #000000);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }

        .loading-logo {
            font-size: 3rem;
            font-weight: 900;
            margin-bottom: 30px;
            animation: logoFloat 2s ease-in-out infinite;
        }

        @keyframes logoFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        .loading-bar-container {
            width: 80%;
            max-width: 400px;
            height: 30px;
            background: #1a1a1a;
            border: 3px solid #ffd700;
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 20px;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }

        .loading-bar {
            height: 100%;
            background: linear-gradient(90deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #8b00ff);
            background-size: 200% auto;
            width: 0%;
            transition: width 0.3s ease;
            animation: loadingGradient 2s linear infinite;
        }

        @keyframes loadingGradient {
            0% { background-position: 0% center; }
            100% { background-position: 200% center; }
        }

        .loading-text {
            color: #ffd700;
            font-size: 1rem;
            text-align: center;
            animation: textPulse 1.5s ease-in-out infinite;
        }

        @keyframes textPulse {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }

        /* ============================================
           RESPONSIVE DESIGN
           ============================================ */
        
        @media (max-width: 480px) {
            .game-title {
                font-size: 1.2rem;
            }
            
            .symbol {
                font-size: 2.8rem;
                height: 75px;
            }
            
            .info-value {
                font-size: 1.1rem;
            }
            
            .casino-button {
                font-size: 0.75rem;
                height: 55px;
            }
            
            .spin-button {
                font-size: 1.2rem;
                height: 75px;
            }

            .win-text {
                font-size: 2rem;
            }

            .win-amount {
                font-size: 1.8rem;
            }
        }

        /* Prevent zoom and unwanted behaviors */
        html {
            touch-action: manipulation;
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-logo">🎰💎🎰</div>
        <div class="loading-logo" style="font-size: 2rem; color: #ffd700; text-shadow: 0 0 20px #ffd700;">
            VEGAS DIAMOND SLOTS
        </div>
        <div class="loading-bar-container">
            <div class="loading-bar" id="loadingBar"></div>
        </div>
        <div class="loading-text" id="loadingText">Initializing Professional Casino Experience...</div>
    </div>

    <!-- Main Game Container -->
    <div class="razr-container" id="gameContainer" style="display: none;">
        <!-- TOP SCREEN - Main Display -->
        <div class="top-screen" id="topScreen">
            <!-- Animated Background -->
            <div class="light-beam"></div>
            <div class="star-field" id="starField"></div>

            <!-- Machine Cabinet -->
            <div class="machine-cabinet">
                <div class="chrome-frame"></div>
                <div class="led-border"></div>

                <!-- Game Header -->
                <div class="game-header">
                    <div class="game-title">💎 VEGAS DIAMOND SLOTS 💎</div>
                    <div class="jackpot-display">
                        <span class="jackpot-label">PROGRESSIVE JACKPOT</span><br>
                        <span class="jackpot-amount" id="jackpotAmount">$50,000</span>
                    </div>
                </div>

                <!-- Reels Frame -->
                <div class="reels-frame">
                    <div class="glass-overlay"></div>
                    <div class="reels-container">
                        <div class="reel" id="reel1">
                            <div class="reel-strip" id="strip1"></div>
                        </div>
                        <div class="reel" id="reel2">
                            <div class="reel-strip" id="strip2"></div>
                        </div>
                        <div class="reel" id="reel3">
                            <div class="reel-strip" id="strip3"></div>
                        </div>
                    </div>
                    
                    <!-- Paylines -->
                    <div class="paylines" id="paylines">
                        <div class="payline payline-1" data-line="1"></div>
                        <div class="payline payline-2" data-line="2"></div>
                        <div class="payline payline-3" data-line="3"></div>
                        <div class="payline payline-4" data-line="4"></div>
                        <div class="payline payline-5" data-line="5"></div>
                    </div>
                </div>

                <!-- Info Panel -->
                <div class="info-panel">
                    <div class="info-item">
                        <span class="info-label">CREDITS</span>
                        <span class="info-value credits-value" id="credits">5000</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">BET/LINE</span>
                        <span class="info-value" id="betAmount">10</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">LINES</span>
                        <span class="info-value" id="linesActive">5</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">TOTAL BET</span>
                        <span class="info-value" id="totalBet">50</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">WIN</span>
                        <span class="info-value win-value" id="winAmount">0</span>
                    </div>
                </div>
            </div>

            <!-- Win Overlay -->
            <div class="win-overlay" id="winOverlay">
                <div class="win-content">
                    <div class="win-text" id="winText">BIG WIN!</div>
                    <div class="win-amount" id="winAmountDisplay">$0</div>
                </div>
            </div>
        </div>

        <!-- BOTTOM SCREEN - Control Panel -->
        <div class="bottom-screen">
            <div class="control-panel">
                <!-- Control Header -->
                <div class="control-header">
                    <div class="control-title">🎮 PROFESSIONAL CONTROL PANEL 🎮</div>
                </div>

                <!-- Button Grid -->
                <div class="button-grid">
                    <button class="casino-button bet-button" id="betButton">
                        <span class="button-icon">💰</span>
                        <span class="button-label">BET/LINE</span>
                    </button>
                    <button class="casino-button lines-button" id="linesButton">
                        <span class="button-icon">📊</span>
                        <span class="button-label">LINES</span>
                    </button>
                    <button class="casino-button max-bet-button" id="maxBetButton">
                        <span class="button-icon">🔥</span>
                        <span class="button-label">MAX BET</span>
                    </button>
                </div>

                <!-- Spin Button -->
                <button class="casino-button spin-button" id="spinButton">
                    <span class="button-icon">🎰</span>
                    <span class="button-label">SPIN TO WIN!</span>
                </button>

                <!-- Additional Controls -->
                <div class="button-grid">
                    <button class="casino-button auto-button" id="autoButton">
                        <span class="button-icon">🔄</span>
                        <span class="button-label">AUTO PLAY</span>
                    </button>
                    <button class="casino-button menu-button" id="payTableButton">
                        <span class="button-icon">💵</span>
                        <span class="button-label">PAY TABLE</span>
                    </button>
                    <button class="casino-button menu-button" id="menuButton">
                        <span class="button-icon">⚙️</span>
                        <span class="button-label">MENU</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Jackpot Celebration Overlay -->
    <div class="jackpot-celebration" id="jackpotCelebration">
        <div class="jackpot-text">🎉 JACKPOT! 🎉</div>
    </div>

    <script>
        // ============================================
        // PROFESSIONAL VEGAS SLOT MACHINE ENGINE
        // ============================================
        
        class VegasDiamondSlots {
            constructor() {
                // Game State
                this.credits = 5000;
                this.betPerLine = 10;
                this.activeLines = 5;
                this.betLevels = [5, 10, 25, 50, 100, 200];
                this.lineLevels = [1, 3, 5];
                this.betIndex = 1;
                this.lineIndex = 2;
                this.lastWin = 0;
                this.totalWagered = 0;
                this.totalWon = 0;
                this.gamesPlayed = 0;
                this.progressiveJackpot = 50000;
                
                // Game Control
                this.isSpinning = false;
                this.autoSpinActive = false;
                this.autoSpinCount = 0;
                this.bonusRoundActive = false;
                this.freeSpinsRemaining = 0;
                this.currentMultiplier = 1;
                
                // Slot Symbols with Realistic Weights and Payouts
                // Based on 95% RTP (Return to Player)
                this.symbols = [
                    { symbol: '🍒', weight: 35, payout: { 2: 2, 3: 5 } },
                    { symbol: '🍋', weight: 30, payout: { 2: 3, 3: 10 } },
                    { symbol: '🍊', weight: 25, payout: { 2: 4, 3: 15 } },
                    { symbol: '🍇', weight: 20, payout: { 2: 5, 3: 20 } },
                    { symbol: '🔔', weight: 15, payout: { 2: 8, 3: 40 } },
                    { symbol: '⭐', weight: 12, payout: { 2: 10, 3: 75 } },
                    { symbol: '💎', weight: 8, payout: { 2: 20, 3: 150 } },
                    { symbol: '7️⃣', weight: 6, payout: { 2: 30, 3: 250 } },
                    { symbol: '👑', weight: 4, payout: { 2: 50, 3: 500 } },
                    { symbol: '💰', weight: 2, payout: { 2: 100, 3: 1000 }, jackpot: true },
                    { symbol: '🎁', weight: 3, payout: { 3: 0 }, special: 'bonus' },
                    { symbol: '🆓', weight: 2, payout: { 3: 0 }, special: 'freespin' },
                    { symbol: '🌟', weight: 1, payout: { 3: 0 }, special: 'wild' }
                ];
                
                // Payline Patterns (for 3 reels)
                this.paylinePatterns = [
                    [1, 1, 1], // Center line
                    [0, 0, 0], // Top line
                    [2, 2, 2], // Bottom line
                    [0, 1, 2], // Diagonal down
                    [2, 1, 0]  // Diagonal up
                ];
                
                // Audio Context
                this.audioContext = null;
                this.sounds = {};
                
                // Animation
                this.reelSymbols = [];
                
                this.init();
            }

            async init() {
                console.log('🎰 Initializing Vegas Diamond Slots...');
                
                // Show loading sequence
                await this.loadGameAssets();
                
                // Setup
                this.setupAudio();
                this.generateReelSymbols();
                this.createReelStrips();
                this.createStarField();
                this.setupEventListeners();
                this.updateDisplay();
                this.startJackpotTicker();
                
                // Hide loading screen
                await this.hideLoadingScreen();
                
                console.log('✅ Game ready!');
            }

            async loadGameAssets() {
                const loadingBar = document.getElementById('loadingBar');
                const loadingText = document.getElementById('loadingText');
                
                const loadingSteps = [
                    { text: 'Connecting to casino server...', duration: 400 },
                    { text: 'Loading slot machine engine...', duration: 300 },
                    { text: 'Initializing random number generator...', duration: 350 },
                    { text: 'Loading symbol library...', duration: 300 },
                    { text: 'Setting up audio system...', duration: 350 },
                    { text: 'Configuring haptic feedback...', duration: 300 },
                    { text: 'Loading visual effects...', duration: 400 },
                    { text: 'Calibrating paylines...', duration: 300 },
                    { text: 'Preparing progressive jackpot...', duration: 350 },
                    { text: 'Finalizing casino experience...', duration: 400 }
                ];
                
                let progress = 0;
                for (const step of loadingSteps) {
                    loadingText.textContent = step.text;
                    progress += 10;
                    loadingBar.style.width = progress + '%';
                    await this.delay(step.duration);
                }
            }

            async hideLoadingScreen() {
                const loadingScreen = document.getElementById('loadingScreen');
                const gameContainer = document.getElementById('gameContainer');
                
                loadingScreen.style.transition = 'opacity 0.5s ease';
                loadingScreen.style.opacity = '0';
                
                await this.delay(500);
                
                loadingScreen.style.display = 'none';
                gameContainer.style.display = 'flex';
                gameContainer.style.opacity = '0';
                gameContainer.style.transition = 'opacity 0.5s ease';
                
                await this.delay(50);
                gameContainer.style.opacity = '1';
            }

            setupAudio() {
                try {
                    this.audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    console.log('🔊 Audio system initialized');
                } catch (error) {
                    console.log('Audio not available');
                }
            }

            // Create realistic slot machine sounds
            playSound(type, duration = 0.1, frequency = 440) {
                if (!this.audioContext) return;
                
                const oscillator = this.audioContext.createOscillator();
                const gainNode = this.audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(this.audioContext.destination);
                
                const now = this.audioContext.currentTime;
                
                switch(type) {
                    case 'spin':
                        oscillator.frequency.setValueAtTime(220, now);
                        oscillator.type = 'sawtooth';
                        gainNode.gain.setValueAtTime(0.15, now);
                        gainNode.gain.exponentialRampToValueAtTime(0.01, now + 0.1);
                        break;
                    case 'reelStop':
                        oscillator.frequency.setValueAtTime(110, now);
                        oscillator.type = 'square';
                        gainNode.gain.setValueAtTime(0.2, now);
                        gainNode.gain.exponentialRampToValueAtTime(0.01, now + 0.15);
                        break;
                    case 'win':
                        oscillator.frequency.setValueAtTime(523, now);
                        oscillator.frequency.exponentialRampToValueAtTime(1047, now + 0.3);
                        oscillator.type = 'sine';
                        gainNode.gain.setValueAtTime(0.2, now);
                        gainNode.gain.exponentialRampToValueAtTime(0.01, now + 0.3);
                        duration = 0.3;
                        break;
                    case 'bigWin':
                        oscillator.frequency.setValueAtTime(523, now);
                        oscillator.frequency.exponentialRampToValueAtTime(1568, now + 0.5);
                        oscillator.type = 'sine';
                        gainNode.gain.setValueAtTime(0.25, now);
                        gainNode.gain.exponentialRampToValueAtTime(0.01, now + 0.5);
                        duration = 0.5;
                        break;
                    case 'jackpot':
                        oscillator.frequency.setValueAtTime(1047, now);
                        oscillator.type = 'sine';
                        gainNode.gain.setValueAtTime(0.3, now);
                        gainNode.gain.exponentialRampToValueAtTime(0.01, now + 1.0);
                        duration = 1.0;
                        break;
                    case 'button':
                        oscillator.frequency.setValueAtTime(330, now);
                        oscillator.type = 'square';
                        gainNode.gain.setValueAtTime(0.1, now);
                        gainNode.gain.exponentialRampToValueAtTime(0.01, now + 0.05);
                        duration = 0.05;
                        break;
                    case 'coin':
                        oscillator.frequency.setValueAtTime(880, now);
                        oscillator.type = 'sine';
                        gainNode.gain.setValueAtTime(0.15, now);
                        gainNode.gain.exponentialRampToValueAtTime(0.01, now + 0.2);
                        duration = 0.2;
                        break;
                }
                
                oscillator.start(now);
                oscillator.stop(now + duration);
            }

            // Vibration patterns for different events
            vibrate(pattern) {
                if ('vibrate' in navigator) {
                    navigator.vibrate(pattern);
                }
            }

            generateReelSymbols() {
                const weightedSymbols = [];
                this.symbols.forEach(symbolData => {
                    for (let i = 0; i < symbolData.weight; i++) {
                        weightedSymbols.push(symbolData.symbol);
                    }
                });
                
                // Create 3 reels with 30 symbols each for smooth scrolling
                const reelLength = 30;
                this.reelSymbols = [
                    this.shuffleArray([...weightedSymbols]).slice(0, reelLength),
                    this.shuffleArray([...weightedSymbols]).slice(0, reelLength),
                    this.shuffleArray([...weightedSymbols]).slice(0, reelLength)
                ];
            }

            shuffleArray(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
                return array;
            }

            createReelStrips() {
                for (let reelIndex = 0; reelIndex < 3; reelIndex++) {
                    const strip = document.getElementById(`strip${reelIndex + 1}`);
                    strip.innerHTML = '';
                    
                    // Create 5 copies for seamless infinite scrolling
                    for (let copy = 0; copy < 5; copy++) {
                        this.reelSymbols[reelIndex].forEach(symbol => {
                            const symbolDiv = document.createElement('div');
                            symbolDiv.className = 'symbol';
                            symbolDiv.textContent = symbol;
                            strip.appendChild(symbolDiv);
                        });
                    }
                }
            }

            createStarField() {
                const starField = document.getElementById('starField');
                const starCount = 50;
                
                for (let i = 0; i < starCount; i++) {
                    const star = document.createElement('div');
                    star.className = 'star';
                    star.style.width = star.style.height = (Math.random() * 3 + 1) + 'px';
                    star.style.left = Math.random() * 100 + '%';
                    star.style.top = Math.random() * 100 + '%';
                    star.style.animationDelay = Math.random() * 3 + 's';
                    starField.appendChild(star);
                }
            }

            setupEventListeners() {
                // Spin button
                document.getElementById('spinButton').addEventListener('click', () => {
                    this.handleSpin();
                });

                // Bet button
                document.getElementById('betButton').addEventListener('click', () => {
                    this.changeBet();
                });

                // Lines button
                document.getElementById('linesButton').addEventListener('click', () => {
                    this.changeLines();
                });

                // Max bet button
                document.getElementById('maxBetButton').addEventListener('click', () => {
                    this.setMaxBet();
                });

                // Auto play button
                document.getElementById('autoButton').addEventListener('click', () => {
                    this.toggleAutoPlay();
                });

                // Pay table button
                document.getElementById('payTableButton').addEventListener('click', () => {
                    this.showPayTable();
                });

                // Menu button
                document.getElementById('menuButton').addEventListener('click', () => {
                    this.showMenu();
                });

                // Top screen touch effects
                document.getElementById('topScreen').addEventListener('click', (e) => {
                    this.createTouchEffect(e);
                });

                // Button haptic feedback
                document.querySelectorAll('.casino-button').forEach(button => {
                    button.addEventListener('click', (e) => {
                        this.playSound('button');
                        this.vibrate([50]);
                        this.createButtonRipple(e);
                    });
                });
            }

            handleSpin() {
                if (this.isSpinning) return;
                
                const totalBet = this.betPerLine * this.activeLines;
                
                if (this.credits < totalBet) {
                    this.showMessage('Insufficient credits!', 'error');
                    this.vibrate([200, 100, 200]);
                    return;
                }
                
                this.spin();
            }

            async spin() {
                this.isSpinning = true;
                const totalBet = this.betPerLine * this.activeLines;
                
                // Deduct bet
                this.credits -= totalBet;
                this.totalWagered += totalBet;
                this.lastWin = 0;
                this.gamesPlayed++;
                
                this.updateDisplay();
                
                // Play spin sound and vibrate
                this.playSound('spin');
                this.vibrate([100, 50, 100]);
                
                // Increase progressive jackpot
                this.progressiveJackpot += totalBet * 0.01;
                this.updateJackpotDisplay();
                
                // Hide previous win overlay
                document.getElementById('winOverlay').style.display = 'none';
                
                // Clear previous paylines
                document.querySelectorAll('.payline').forEach(line => {
                    line.classList.remove('active');
                });
                
                // Spin reels with different durations
                const spinDurations = [2000, 2500, 3000];
                const reelResults = [];
                
                // Start all reels spinning
                for (let i = 0; i < 3; i++) {
                    const strip = document.getElementById(`strip${i + 1}`);
                    this.animateReelSpin(strip, spinDurations[i]);
                }
                
                // Stop reels one by one
                for (let i = 0; i < 3; i++) {
                    await this.delay(spinDurations[i]);
                    
                    const result = this.getRandomSymbol();
                    reelResults.push(result);
                    
                    this.stopReel(i, result);
                    this.playSound('reelStop');
                    this.vibrate([150]);
                }
                
                // Check for wins
                await this.delay(500);
                await this.checkWins(reelResults);
                
                this.isSpinning = false;
                
                // Continue auto play if active
                if (this.autoSpinActive && this.autoSpinCount > 0) {
                    this.autoSpinCount--;
                    if (this.autoSpinCount > 0 && this.credits >= totalBet) {
                        await this.delay(1000);
                        this.spin();
                    } else {
                        this.stopAutoPlay();
                    }
                }
            }

            animateReelSpin(strip, duration) {
                const symbolHeight = 85;
                let currentOffset = 0;
                const speed = 10; // pixels per frame
                
                const animate = () => {
                    if (!this.isSpinning) return;
                    
                    currentOffset += speed;
                    
                    // Reset offset for infinite scroll
                    if (currentOffset >= symbolHeight * 30) {
                        currentOffset = 0;
                    }
                    
                    strip.style.transform = `translateY(-${currentOffset}px)`;
                    strip.style.transition = 'none';
                    
                    // Add blur effect during spin
                    strip.querySelectorAll('.symbol').forEach(sym => {
                        sym.classList.add('blur');
                    });
                    
                    requestAnimationFrame(animate);
                };
                
                animate();
            }

            stopReel(reelIndex, targetSymbol) {
                const strip = document.getElementById(`strip${reelIndex + 1}`);
                const symbols = strip.querySelectorAll('.symbol');
                
                // Remove blur effect
                symbols.forEach(sym => {
                    sym.classList.remove('blur');
                });
                
                // Find matching symbol
                let targetIndex = -1;
                for (let i = 0; i < symbols.length; i++) {
                    if (symbols[i].textContent === targetSymbol) {
                        targetIndex = i;
                        break;
                    }
                }
                
                if (targetIndex !== -1) {
                    const symbolHeight = 85;
                    // Position to show 3 symbols with target in middle
                    const offset = targetIndex * symbolHeight - symbolHeight;
                    strip.style.transition = 'transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
                    strip.style.transform = `translateY(-${offset}px)`;
                }
            }

            getRandomSymbol() {
                const totalWeight = this.symbols.reduce((sum, s) => sum + s.weight, 0);
                let random = Math.random() * totalWeight;
                
                for (const symbolData of this.symbols) {
                    random -= symbolData.weight;
                    if (random <= 0) {
                        return symbolData.symbol;
                    }
                }
                
                return this.symbols[0].symbol;
            }

            async checkWins(reelResults) {
                // Get visible symbols for each reel (showing 3 symbols)
                const visibleSymbols = reelResults.map(symbol => {
                    // Get 3 symbols (top, middle, bottom)
                    const idx = this.reelSymbols[0].indexOf(symbol);
                    return [
                        this.getSymbolAt(0, idx - 1),
                        symbol,
                        this.getSymbolAt(0, idx + 1)
                    ];
                });
                
                // For simplification, check center line only with all active lines
                let totalWin = 0;
                const winningLines = [];
                
                // Check each active payline
                for (let lineIdx = 0; lineIdx < this.activeLines; lineIdx++) {
                    const pattern = this.paylinePatterns[lineIdx];
                    const lineSymbols = [
                        this.getVisibleSymbol(0, pattern[0], reelResults[0]),
                        this.getVisibleSymbol(1, pattern[1], reelResults[1]),
                        this.getVisibleSymbol(2, pattern[2], reelResults[2])
                    ];
                    
                    const lineWin = this.calculateLineWin(lineSymbols);
                    if (lineWin > 0) {
                        totalWin += lineWin;
                        winningLines.push(lineIdx);
                    }
                }
                
                // Handle wins
                if (totalWin > 0) {
                    await this.handleWin(totalWin, winningLines);
                }
                
                // Check for special features
                await this.checkSpecialFeatures(reelResults);
            }

            getVisibleSymbol(reelIdx, position, centerSymbol) {
                // position: 0=top, 1=middle, 2=bottom
                // For now, return center symbol for all positions (simplified)
                return centerSymbol;
            }

            getSymbolAt(reelIdx, position) {
                const reel = this.reelSymbols[reelIdx];
                const len = reel.length;
                const normalizedPos = ((position % len) + len) % len;
                return reel[normalizedPos];
            }

            calculateLineWin(lineSymbols) {
                // Count matching symbols
                const symbolCounts = {};
                lineSymbols.forEach(sym => {
                    symbolCounts[sym] = (symbolCounts[sym] || 0) + 1;
                });
                
                let winAmount = 0;
                
                // Check for 3 of a kind or 2 of a kind
                for (const [symbol, count] of Object.entries(symbolCounts)) {
                    const symbolData = this.symbols.find(s => s.symbol === symbol);
                    if (symbolData && symbolData.payout && symbolData.payout[count]) {
                        winAmount += symbolData.payout[count] * this.betPerLine * this.currentMultiplier;
                    }
                }
                
                return winAmount;
            }

            async handleWin(amount, winningLines) {
                this.lastWin = amount;
                this.credits += amount;
                this.totalWon += amount;
                this.updateDisplay();
                
                // Show winning paylines
                winningLines.forEach(lineIdx => {
                    const payline = document.querySelector(`.payline-${lineIdx + 1}`);
                    if (payline) {
                        payline.classList.add('active');
                    }
                });
                
                // Determine win type
                let winType = 'WIN!';
                let celebrationType = 'normal';
                
                if (amount >= this.betPerLine * this.activeLines * 100) {
                    winType = 'MEGA WIN!';
                    celebrationType = 'mega';
                } else if (amount >= this.betPerLine * this.activeLines * 50) {
                    winType = 'BIG WIN!';
                    celebrationType = 'big';
                } else if (amount >= this.betPerLine * this.activeLines * 10) {
                    winType = 'GREAT WIN!';
                    celebrationType = 'great';
                }
                
                // Show win overlay
                this.showWinOverlay(winType, amount);
                
                // Play sounds and effects
                switch(celebrationType) {
                    case 'mega':
                        this.playSound('jackpot');
                        this.vibrate([200, 100, 200, 100, 200, 100, 200]);
                        this.createCoinExplosion(50);
                        await this.delay(3000);
                        break;
                    case 'big':
                        this.playSound('bigWin');
                        this.vibrate([150, 50, 150, 50, 150]);
                        this.createCoinExplosion(30);
                        await this.delay(2500);
                        break;
                    case 'great':
                        this.playSound('win');
                        this.vibrate([100, 50, 100]);
                        this.createCoinExplosion(15);
                        await this.delay(2000);
                        break;
                    default:
                        this.playSound('win');
                        this.vibrate([100]);
                        this.createCoinExplosion(8);
                        await this.delay(1500);
                }
                
                // Hide win overlay
                document.getElementById('winOverlay').style.display = 'none';
                
                // Clear paylines
                setTimeout(() => {
                    document.querySelectorAll('.payline').forEach(line => {
                        line.classList.remove('active');
                    });
                }, 500);
            }

            async checkSpecialFeatures(reelResults) {
                const symbolCounts = {};
                reelResults.forEach(sym => {
                    symbolCounts[sym] = (symbolCounts[sym] || 0) + 1;
                });
                
                // Check for bonus round
                if (symbolCounts['🎁'] >= 3) {
                    await this.triggerBonusRound();
                }
                
                // Check for free spins
                if (symbolCounts['🆓'] >= 3) {
                    await this.triggerFreeSpins();
                }
                
                // Check for jackpot
                if (symbolCounts['💰'] === 3) {
                    await this.triggerJackpot();
                }
            }

            async triggerBonusRound() {
                this.showMessage('🎁 BONUS ROUND TRIGGERED! 🎁', 'bonus');
                this.vibrate([200, 100, 200, 100, 200]);
                
                await this.delay(2000);
                
                const bonusWin = Math.floor(this.betPerLine * this.activeLines * (10 + Math.random() * 40));
                this.credits += bonusWin;
                this.totalWon += bonusWin;
                this.updateDisplay();
                
                this.showMessage(`🎁 Bonus Win: $${bonusWin}! 🎁`, 'success');
                this.createCoinExplosion(25);
            }

            async triggerFreeSpins() {
                const freeSpins = 5 + Math.floor(Math.random() * 6);
                this.currentMultiplier = 2 + Math.floor(Math.random() * 3);
                
                this.showMessage(`🆓 ${freeSpins} FREE SPINS with ${this.currentMultiplier}x MULTIPLIER! 🆓`, 'bonus');
                this.vibrate([150, 50, 150, 50, 150, 50, 150]);
                
                await this.delay(3000);
                
                // Auto-play free spins
                this.freeSpinsRemaining = freeSpins;
                // Free spins logic would go here
            }

            async triggerJackpot() {
                this.showMessage('🎰 CHECKING FOR JACKPOT... 🎰', 'jackpot');
                this.vibrate([300]);
                
                await this.delay(2000);
                
                // 1 in 1000 chance for progressive jackpot
                if (Math.random() < 0.001 || this.betPerLine >= 100) {
                    // PROGRESSIVE JACKPOT!
                    const jackpotWin = this.progressiveJackpot;
                    this.credits += jackpotWin;
                    this.totalWon += jackpotWin;
                    
                    this.showJackpotCelebration(jackpotWin);
                    this.playSound('jackpot');
                    this.vibrate([300, 100, 300, 100, 300, 100, 300, 100, 300]);
                    this.createCoinExplosion(100);
                    
                    // Reset jackpot
                    this.progressiveJackpot = 50000;
                    this.updateJackpotDisplay();
                    
                    await this.delay(5000);
                    document.getElementById('jackpotCelebration').style.display = 'none';
                } else {
                    // Regular big win
                    const win = this.betPerLine * this.activeLines * 1000;
                    this.credits += win;
                    this.totalWon += win;
                    this.showMessage(`💰 TRIPLE JACKPOT SYMBOLS! Win: $${win}! 💰`, 'success');
                    this.playSound('bigWin');
                    this.vibrate([200, 100, 200, 100, 200]);
                    this.createCoinExplosion(40);
                }
                
                this.updateDisplay();
            }

            showJackpotCelebration(amount) {
                const celebration = document.getElementById('jackpotCelebration');
                const text = celebration.querySelector('.jackpot-text');
                text.textContent = `🎉 JACKPOT! 🎉\n$${amount.toLocaleString()}`;
                celebration.style.display = 'flex';
            }

            showWinOverlay(text, amount) {
                const overlay = document.getElementById('winOverlay');
                const winText = document.getElementById('winText');
                const winAmountDisplay = document.getElementById('winAmountDisplay');
                
                winText.textContent = text;
                winAmountDisplay.textContent = '$' + amount.toLocaleString();
                overlay.style.display = 'flex';
            }

            changeBet() {
                this.betIndex = (this.betIndex + 1) % this.betLevels.length;
                this.betPerLine = this.betLevels[this.betIndex];
                this.updateDisplay();
                this.showMessage(`Bet per line: $${this.betPerLine}`, 'info');
            }

            changeLines() {
                this.lineIndex = (this.lineIndex + 1) % this.lineLevels.length;
                this.activeLines = this.lineLevels[this.lineIndex];
                this.updateDisplay();
                this.showMessage(`Active lines: ${this.activeLines}`, 'info');
            }

            setMaxBet() {
                this.betIndex = this.betLevels.length - 1;
                this.betPerLine = this.betLevels[this.betIndex];
                this.lineIndex = this.lineLevels.length - 1;
                this.activeLines = this.lineLevels[this.lineIndex];
                this.updateDisplay();
                this.showMessage(`MAX BET: $${this.betPerLine * this.activeLines}`, 'success');
                this.vibrate([100, 50, 100]);
            }

            toggleAutoPlay() {
                if (this.autoSpinActive) {
                    this.stopAutoPlay();
                } else {
                    this.startAutoPlay();
                }
            }

            startAutoPlay() {
                const spins = prompt('How many auto spins? (5-100)', '10');
                const spinCount = parseInt(spins);
                
                if (!spinCount || spinCount < 5 || spinCount > 100) {
                    this.showMessage('Invalid auto spin count', 'error');
                    return;
                }
                
                this.autoSpinActive = true;
                this.autoSpinCount = spinCount;
                
                const autoButton = document.getElementById('autoButton');
                autoButton.innerHTML = '<span class="button-icon">⏹️</span><span class="button-label">STOP AUTO</span>';
                
                this.showMessage(`Auto play started: ${spinCount} spins`, 'success');
                
                if (!this.isSpinning) {
                    this.spin();
                }
            }

            stopAutoPlay() {
                this.autoSpinActive = false;
                this.autoSpinCount = 0;
                
                const autoButton = document.getElementById('autoButton');
                autoButton.innerHTML = '<span class="button-icon">🔄</span><span class="button-label">AUTO PLAY</span>';
                
                this.showMessage('Auto play stopped', 'info');
            }

            showPayTable() {
                let payTable = '💎 VEGAS DIAMOND SLOTS - PAY TABLE 💎\n\n';
                payTable += '═══════════════════════════════\n\n';
                
                this.symbols.forEach(sym => {
                    if (sym.special) {
                        payTable += `${sym.symbol} 3x: ${sym.special.toUpperCase()}\n`;
                    } else if (sym.jackpot) {
                        payTable += `${sym.symbol} 3x: JACKPOT! (1000x + Progressive)\n`;
                    } else {
                        payTable += `${sym.symbol} `;
                        if (sym.payout[2]) payTable += `2x: ${sym.payout[2]}x `;
                        if (sym.payout[3]) payTable += `3x: ${sym.payout[3]}x`;
                        payTable += '\n';
                    }
                });
                
                payTable += '\n═══════════════════════════════\n';
                payTable += `Games Played: ${this.gamesPlayed}\n`;
                payTable += `Total Wagered: $${this.totalWagered}\n`;
                payTable += `Total Won: $${this.totalWon}\n`;
                payTable += `Current RTP: ${this.totalWagered > 0 ? ((this.totalWon / this.totalWagered) * 100).toFixed(2) : 0}%\n`;
                
                alert(payTable);
            }

            showMenu() {
                const menu = confirm(
                    '⚙️ GAME MENU ⚙️\n\n' +
                    '• Sound: ON\n' +
                    '• Vibration: ON\n' +
                    '• Quick spin: OFF\n\n' +
                    'Press OK to reset game, Cancel to continue'
                );
                
                if (menu) {
                    if (confirm('Reset game and start with 5000 credits?')) {
                        this.credits = 5000;
                        this.totalWagered = 0;
                        this.totalWon = 0;
                        this.gamesPlayed = 0;
                        this.updateDisplay();
                        this.showMessage('Game reset!', 'success');
                    }
                }
            }

            showMessage(text, type = 'info') {
                const messageDiv = document.createElement('div');
                messageDiv.style.cssText = `
                    position: fixed;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    background: ${type === 'error' ? 'rgba(231, 76, 60, 0.95)' : 
                                 type === 'success' ? 'rgba(46, 204, 113, 0.95)' :
                                 type === 'bonus' ? 'rgba(155, 89, 182, 0.95)' :
                                 type === 'jackpot' ? 'rgba(255, 215, 0, 0.95)' :
                                 'rgba(52, 152, 219, 0.95)'};
                    color: white;
                    padding: 20px 30px;
                    border-radius: 15px;
                    font-size: 1.2rem;
                    font-weight: 900;
                    text-align: center;
                    z-index: 500;
                    border: 3px solid white;
                    box-shadow: 0 0 30px rgba(0, 0, 0, 0.8);
                    max-width: 80%;
                    animation: messagePopIn 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
                `;
                
                messageDiv.textContent = text;
                document.body.appendChild(messageDiv);
                
                setTimeout(() => {
                    messageDiv.style.transition = 'opacity 0.3s ease';
                    messageDiv.style.opacity = '0';
                    setTimeout(() => messageDiv.remove(), 300);
                }, 2500);
            }

            createTouchEffect(event) {
                // Ripple effect
                const ripple = document.createElement('div');
                ripple.className = 'ripple';
                
                const rect = event.currentTarget.getBoundingClientRect();
                const size = 100;
                const x = event.clientX - rect.left - size / 2;
                const y = event.clientY - rect.top - size / 2;
                
                ripple.style.width = ripple.style.height = size + 'px';
                ripple.style.left = x + 'px';
                ripple.style.top = y + 'px';
                
                event.currentTarget.appendChild(ripple);
                
                setTimeout(() => ripple.remove(), 600);
                
                // Sparkles
                this.createSparkles(event.clientX, event.clientY, 8);
                
                // Vibrate
                this.vibrate([50]);
            }

            createButtonRipple(event) {
                const button = event.currentTarget;
                const ripple = document.createElement('div');
                ripple.className = 'ripple';
                
                const rect = button.getBoundingClientRect();
                const size = Math.max(rect.width, rect.height);
                const x = event.clientX - rect.left - size / 2;
                const y = event.clientY - rect.top - size / 2;
                
                ripple.style.width = ripple.style.height = size + 'px';
                ripple.style.left = x + 'px';
                ripple.style.top = y + 'px';
                ripple.style.background = 'rgba(255, 255, 255, 0.4)';
                
                button.appendChild(ripple);
                
                setTimeout(() => ripple.remove(), 600);
            }

            createSparkles(x, y, count) {
                for (let i = 0; i < count; i++) {
                    const sparkle = document.createElement('div');
                    sparkle.className = 'particle sparkle-particle';
                    
                    const angle = (Math.PI * 2 * i) / count;
                    const distance = 50 + Math.random() * 50;
                    const finalX = x + Math.cos(angle) * distance;
                    const finalY = y + Math.sin(angle) * distance;
                    
                    sparkle.style.left = x + 'px';
                    sparkle.style.top = y + 'px';
                    
                    document.body.appendChild(sparkle);
                    
                    sparkle.animate([
                        { transform: 'translate(0, 0) scale(0) rotate(0deg)', opacity: 1 },
                        { transform: `translate(${finalX - x}px, ${finalY - y}px) scale(1) rotate(360deg)`, opacity: 1, offset: 0.7 },
                        { transform: `translate(${finalX - x}px, ${finalY - y}px) scale(0) rotate(720deg)`, opacity: 0 }
                    ], {
                        duration: 800,
                        easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
                    }).onfinish = () => sparkle.remove();
                }
            }

            createCoinExplosion(coinCount) {
                const topScreen = document.getElementById('topScreen');
                const rect = topScreen.getBoundingClientRect();
                const centerX = rect.width / 2;
                const centerY = rect.height / 2;
                
                for (let i = 0; i < coinCount; i++) {
                    setTimeout(() => {
                        const coin = document.createElement('div');
                        coin.className = 'particle coin-particle';
                        
                        coin.style.left = centerX + 'px';
                        coin.style.top = centerY + 'px';
                        
                        topScreen.appendChild(coin);
                        
                        // Random trajectory
                        const angle = Math.random() * Math.PI * 2;
                        const distance = 100 + Math.random() * 200;
                        const finalX = centerX + Math.cos(angle) * distance;
                        const finalY = centerY + Math.sin(angle) * distance + 100;
                        
                        coin.animate([
                            { 
                                transform: 'translate(0, 0) rotate(0deg) scale(0)',
                                opacity: 1
                            },
                            { 
                                transform: `translate(${finalX - centerX}px, ${(finalY - centerY) / 2}px) rotate(${Math.random() * 360}deg) scale(1)`,
                                opacity: 1,
                                offset: 0.5
                            },
                            { 
                                transform: `translate(${finalX - centerX}px, ${finalY - centerY}px) rotate(${Math.random() * 720}deg) scale(0)`,
                                opacity: 0
                            }
                        ], {
                            duration: 1200 + Math.random() * 600,
                            easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
                        }).onfinish = () => coin.remove();
                        
                        // Play coin sound
                        if (i % 3 === 0) {
                            this.playSound('coin');
                        }
                    }, i * 50);
                }
            }

            startJackpotTicker() {
                setInterval(() => {
                    // Slowly increase jackpot
                    this.progressiveJackpot += Math.random() * 5;
                    this.updateJackpotDisplay();
                }, 2000);
            }

            updateJackpotDisplay() {
                const jackpotElement = document.getElementById('jackpotAmount');
                jackpotElement.textContent = '$' + Math.floor(this.progressiveJackpot).toLocaleString();
            }

            updateDisplay() {
                document.getElementById('credits').textContent = this.credits.toLocaleString();
                document.getElementById('betAmount').textContent = this.betPerLine;
                document.getElementById('linesActive').textContent = this.activeLines;
                document.getElementById('totalBet').textContent = this.betPerLine * this.activeLines;
                document.getElementById('winAmount').textContent = this.lastWin.toLocaleString();
                
                // Disable spin button if insufficient credits
                const spinButton = document.getElementById('spinButton');
                if (this.credits < this.betPerLine * this.activeLines) {
                    spinButton.classList.add('disabled');
                } else {
                    spinButton.classList.remove('disabled');
                }
            }

            delay(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            }
        }

        // ============================================
        // INITIALIZE GAME
        // ============================================
        
        document.addEventListener('DOMContentLoaded', () => {
            const game = new VegasDiamondSlots();
            
            // Prevent context menu
            document.addEventListener('contextmenu', e => e.preventDefault());
            
            // Prevent double-tap zoom
            let lastTouchEnd = 0;
            document.addEventListener('touchend', (event) => {
                const now = Date.now();
                if (now - lastTouchEnd <= 300) {
                    event.preventDefault();
                }
                lastTouchEnd = now;
            }, false);
        });
    </script>
</body>
</html>